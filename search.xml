<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Qt Troubleshoot ï¼ˆä¸€ï¼‰</title>
    <url>/2024/12/30/hexo10/</url>
    <content><![CDATA[<h1 id="å»ºç«‹è¿™ä¸ªåˆ†ç±»çš„ç›®çš„"><a href="#å»ºç«‹è¿™ä¸ªåˆ†ç±»çš„ç›®çš„" class="headerlink" title="å»ºç«‹è¿™ä¸ªåˆ†ç±»çš„ç›®çš„"></a>å»ºç«‹è¿™ä¸ªåˆ†ç±»çš„ç›®çš„</h1><p>è‡ªä»å¼€å§‹ç”¨Qtæ¥ç¼–å†™åº”ç”¨ç¨‹åºä¹‹åï¼Œæˆ‘å‘ç°åº”ç”¨çš„å¼€å‘å˜å¾—æ–¹ä¾¿äº†è®¸å¤šã€‚å½“ç„¶ï¼Œå›¾ä¸­éš¾å…é‡åˆ°é—®é¢˜ã€‚æˆ‘ä¼šåœ¨è¿™ä¸ªåˆ†ç±»ä¸æ–­è®°å½•æˆ‘é‡åˆ°çš„é—®é¢˜ä»¥åŠæˆ‘çš„è§£å†³è¿‡ç¨‹ã€‚</p>
<h1 id="1-QLabelè‡ªåŠ¨æ¢è¡Œ"><a href="#1-QLabelè‡ªåŠ¨æ¢è¡Œ" class="headerlink" title="1.QLabelè‡ªåŠ¨æ¢è¡Œ"></a>1.<code>QLabel</code>è‡ªåŠ¨æ¢è¡Œ</h1><h2 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h2><p>æˆ‘åœ¨ä½¿ç”¨<code>QtWidgets.QLabel</code>æ—¶ï¼Œå¸¸å¸¸éœ€è¦ä¸€ä¸ªè‡ªåŠ¨æ¢è¡ŒåŠŸèƒ½ã€‚æŸ¥é˜…Qtå®˜ç½‘ï¼Œå‘ç°<code>QLabel</code>æœ‰ä¸ª<code>setWordWrap()</code>æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å³ä½¿è®¾ç½®äº†ä¸º<code>True</code>,å®ƒä»»ç„¶æ²¡æœ‰æ¢è¡Œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> *</span><br><span class="line">app=QApplication([])</span><br><span class="line">window=QWidget()</span><br><span class="line">label=QLabel(<span class="string">&#x27;LongWordTestLongWordTestLongWordTestLongWordTestLongWordTest&#x27;</span>,window)</span><br><span class="line">label.setWordWrap(<span class="literal">True</span>)</span><br><span class="line">window.resize(<span class="number">500</span>,<span class="number">500</span>)</span><br><span class="line">window.show()</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>
<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>è¿™æ˜¯å› ä¸º<code>QLabel</code>åªä¼šåœ¨æœ‰ç©ºæ ¼çš„åœ°æ–¹æ¢è¡Œã€‚æ‰€ä»¥ï¼Œçº¯æ•°å­—å’Œçº¯å­—æ¯éƒ½ä¼šè®¤ä¸ºæ˜¯åªæœ‰ä¸€ä¸ªå•è¯ï¼Œæ‰€ä»¥å°±ä¸ä¼šæ¢è¡Œäº†ã€‚<br>å½“ç„¶ï¼Œçº¯æ±‰å­—ä¹Ÿæ˜¯ä¼šæ­£å¸¸æ¢è¡Œçš„ã€‚</p>
<h1 id="2-è‡ªå®šä¹‰ç±»ç»§æ‰¿QWidgetä¸èƒ½è®¾ç½®æ ·å¼"><a href="#2-è‡ªå®šä¹‰ç±»ç»§æ‰¿QWidgetä¸èƒ½è®¾ç½®æ ·å¼" class="headerlink" title="2.è‡ªå®šä¹‰ç±»ç»§æ‰¿QWidgetä¸èƒ½è®¾ç½®æ ·å¼"></a>2.è‡ªå®šä¹‰ç±»ç»§æ‰¿<code>QWidget</code>ä¸èƒ½è®¾ç½®æ ·å¼</h1><h2 id="æè¿°-1"><a href="#æè¿°-1" class="headerlink" title="æè¿°"></a>æè¿°</h2><p>ä¸€æ¬¡ï¼Œæˆ‘åˆ©ç”¨<code>QWidget</code>æ¥åˆ¶ä½œä¸€ä¸ªè‡ªå·±çš„çª—å£ç±»ï¼Œè®©å®ƒçš„å¯¹è±¡å®ä¾‹åŒ–åè‡ªåŠ¨æ˜¾ç¤ºã€‚è¿™ä¸ªå®ç°ä¹Ÿå¾ˆç®€å•ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„ä¾‹å­ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomWindow</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.show()</span><br><span class="line">app=QApplication([])</span><br><span class="line">window=CustomWindow()</span><br><span class="line">window.resize(<span class="number">500</span>,<span class="number">500</span>)</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure></p>
<p>åæ¥ï¼Œæˆ‘æœ‰æƒ³è®¾ç½®ä¸€ä¸ªåˆå§‹çš„æ ·å¼ï¼ŒæŠŠå®ƒçš„èƒŒæ™¯è‰²è®¾æˆç»¿è‰²ï¼Œåœ¨<code>__init__(self)</code>é‡Œé¢åŠ äº†ä¸€è¡Œï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">self</span>.setStyleSheet(<span class="string">&#x27;background-color: green;&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<p>ç»“æœç«Ÿç„¶æ˜¯ï¼Œ<code>QWidget</code>è¿˜æ˜¯é‚£ä¸ª<code>QWidget</code>ï¼ŒèƒŒæ™¯è¿˜æ˜¯é‚£ä¸ªåˆå§‹é¢œè‰²ï¼Œæ ¹æœ¬ä¸æ˜¯ç»¿è‰²</p>
<h2 id="è§£å†³-1"><a href="#è§£å†³-1" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ç»è¿‡äº†ç ”ç©¶ï¼Œæˆ‘å‘ç°å¯èƒ½æ˜¯æœ‰æ—¶<code>QWidget</code>çš„å­ç±»æ˜¯ä¸ä¼šè‡ªåŠ¨è®¾æ ·å¼è¡¨çš„ï¼ˆåœ¨ä¸€ä¸ªå¤æ‚çš„é¡¹ç›®ä¸­æˆ‘é‡åˆ°äº†æ­¤é—®é¢˜ï¼Œå½“æˆ‘å°è¯•ç®€åŒ–æ—¶ï¼Œè¿™ä¸ªé—®é¢˜æ¶ˆå¤±äº†ï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜ä¸€å®šå­˜åœ¨ï¼‰ã€‚<br>æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ã€‚</p>
<h3 id="ç¬¬ä¸€ç§ï¼šæ”¹å˜çˆ¶ç±»"><a href="#ç¬¬ä¸€ç§ï¼šæ”¹å˜çˆ¶ç±»" class="headerlink" title="ç¬¬ä¸€ç§ï¼šæ”¹å˜çˆ¶ç±»"></a>ç¬¬ä¸€ç§ï¼šæ”¹å˜çˆ¶ç±»</h3><p><code>QWidget</code>å¯èƒ½æœ‰é—®é¢˜ï¼Œä½†æ˜¯<code>QFrame</code>ä¸ä¼šæœ‰é—®é¢˜ã€‚æ”¹æˆç»§æ‰¿<code>QFrame</code>å°±å¯ä»¥äº†ã€‚<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomWindow</span>(<span class="title class_ inherited__">QFrame</span>):</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬äºŒç§ï¼šè®¾ç½®æ§ä»¶å±æ€§"><a href="#ç¬¬äºŒç§ï¼šè®¾ç½®æ§ä»¶å±æ€§" class="headerlink" title="ç¬¬äºŒç§ï¼šè®¾ç½®æ§ä»¶å±æ€§"></a>ç¬¬äºŒç§ï¼šè®¾ç½®æ§ä»¶å±æ€§</h3><p>è¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬å°±æ˜¯<code>QWidget</code>çš„èƒŒæ™¯æ ·å¼æ²¡æœ‰å¯ç”¨å“¦ã€‚å¯ä»¥è®¾ç½®æ§ä»¶æ ·å¼ï¼ˆ<code>QWidget.setAttribute()</code>ï¼‰æ¥å¯ç”¨ã€‚<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">window.setAttribute(Qt.WidgetAttribute.WA_StyledBackground,<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></p>
<h1 id="3-QWidget-setStyleSheet-è¦†ç›–ä¹‹å‰çš„æ ·å¼è¡¨"><a href="#3-QWidget-setStyleSheet-è¦†ç›–ä¹‹å‰çš„æ ·å¼è¡¨" class="headerlink" title="3.QWidget.setStyleSheet()è¦†ç›–ä¹‹å‰çš„æ ·å¼è¡¨"></a>3.<code>QWidget.setStyleSheet()</code>è¦†ç›–ä¹‹å‰çš„æ ·å¼è¡¨</h1><h2 id="æè¿°-2"><a href="#æè¿°-2" class="headerlink" title="æè¿°"></a>æè¿°</h2><p>åˆšæ‰è¯´äº†ï¼Œ<code>setStyleSheet()</code>æ–¹æ³•å¯ä»¥è®¾è®¾ç½®<code>QWidget</code>çš„æ ·å¼è¡¨ã€‚ç„¶è€Œï¼Œæ¯æ¬¡è®¾ç½®ä¹‹åéƒ½ä¼šè¦†ç›–åŸæœ‰çš„ã€‚</p>
<h2 id="è§£å†³-2"><a href="#è§£å†³-2" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>è§£å†³çš„æ–¹æ³•ä¸æ˜¯å¾ˆå¤æ‚ï¼Œå¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªç±»ï¼Œè®¾ç½®ä¸€ä¸ª<code>styleSheets</code>å±æ€§ï¼ˆå’Œ<code>QWidget</code>åŸæœ‰çš„<code>styleSheet()</code>æ–¹æ³•åŒºåˆ†å¼€ï¼‰<br>åœ¨è‡ªå·±å†™ä¸€ä¸ª<code>addStyleSheet()</code>æ–¹æ³•æ¥ç»´æŠ¤å®ƒã€‚<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LingmoFrame</span>(<span class="title class_ inherited__">QFrame</span>):</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,parent=<span class="literal">None</span>,show=<span class="literal">True</span></span>):</span><br><span class="line">		<span class="built_in">super</span>().__init__(parent)</span><br><span class="line">		<span class="variable language_">self</span>.timer=QTimer()</span><br><span class="line">		<span class="variable language_">self</span>.timer.timeout.connect(<span class="variable language_">self</span>.updateEvent)</span><br><span class="line">		<span class="variable language_">self</span>.timer.timeout.connect(<span class="variable language_">self</span>.__update__)</span><br><span class="line">		<span class="variable language_">self</span>.timer.start(timerDelay)</span><br><span class="line">		<span class="keyword">if</span> show:</span><br><span class="line">			<span class="variable language_">self</span>.show()</span><br><span class="line">		<span class="variable language_">self</span>.styleSheets=&#123;&#125;</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__update__</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="variable language_">self</span>.update()</span><br><span class="line">		styleSheetString=<span class="string">&#x27;&#x27;</span></span><br><span class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable language_">self</span>.styleSheets:</span><br><span class="line">			styleSheetString+=i+<span class="string">&#x27;: &#x27;</span>+<span class="variable language_">self</span>.styleSheets[i]+<span class="string">&#x27;;&#x27;</span></span><br><span class="line">		<span class="variable language_">self</span>.setStyleSheet(styleSheetString)</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">updateEvent</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">addStyleSheet</span>(<span class="params">self,name,style</span>):</span><br><span class="line">		<span class="variable language_">self</span>.styleSheets[name]=<span class="built_in">str</span>(style)</span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªæ–¹æ³•è¿˜è´´å¿ƒåœ°å°†<code>style</code>è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹ï¼Œè¿™æ ·æ¯æ¬¡æ•°å€¼å°±ä¸éœ€è¦å¼ºè½¬äº†ã€‚</p>
<h1 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h1><p>ç¯‡å¹…æœ‰é™ï¼Œæœ€è¿‘çš„é—®é¢˜ä¹Ÿæ²¡æ”¶é›†å¤šå°‘ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚<br>2024å¹´è¿˜æœ‰ä¸¤å¤©ï¼ˆç®—ä»Šå¤©ï¼‰å°±è¦è¿‡å»ï¼Œ2025å¹´å°±è¦æ¥äº†ã€‚ç¥å¤§å®¶å…ƒæ—¦å¿«ä¹ï¼Byeï¼</p>
]]></content>
      <categories>
        <category>Qt Troubleshoot</category>
      </categories>
      <tags>
        <tag>Qt</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢0æ°ªå»ºç«™è®°å½•ï¼ˆä¸Šï¼‰</title>
    <url>/2024/08/23/hexo1/</url>
    <content><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å¤§å®¶å¥½ï¼Œæˆ‘å«Admibrillï¼Œ<del>å»ºç«™åå¤šå¤©äº†ï¼Œæ²¡æœ‰å‘è¿‡ä¸€æ¬¡æ–‡ç« </del>ã€‚</p>
<p>ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å†³å®šè®°å½•ä¸€ä¸‹æˆ‘ä¸ªäººçš„å»ºç«™å†ç¨‹ã€‚</p>
<h2 id="å„ç§ç¯å¢ƒä¾èµ–çš„å®‰è£…"><a href="#å„ç§ç¯å¢ƒä¾èµ–çš„å®‰è£…" class="headerlink" title="å„ç§ç¯å¢ƒä¾èµ–çš„å®‰è£…"></a>å„ç§ç¯å¢ƒä¾èµ–çš„å®‰è£…</h2><p>è·Ÿç€<a href="https://www.fomal.cc/posts/e593433d.html">Fomalå¤§ä½¬çš„æ•™ç¨‹</a>ï¼Œæˆ‘å¼€å§‹äº†å»ºç«™ã€‚ </p>
<h3 id="Githubè´¦å·å’Œä»“åº“"><a href="#Githubè´¦å·å’Œä»“åº“" class="headerlink" title="Githubè´¦å·å’Œä»“åº“"></a>Githubè´¦å·å’Œä»“åº“</h3><p>æˆ‘æœ¬æ¥å°±æœ‰ä¸€ä¸ªgithubçš„è´¦å·ï¼Œäºæ˜¯å»ºäº†ä¸ªä»“åº“å«<code>admibrill.github.io</code>ã€‚</p>
<p>ä½¿ç”¨<code>Github Pages</code>çš„æºæ–‡ä»¶ä»“åº“è¦å‘½åä¸º<code>&lt;username&gt;.github.io</code>ã€‚</p>
<p>è¿™ä»£è¡¨ç½‘ç«™æºç è¦é€šè¿‡githubæ‰˜ç®¡ï¼Œä¼šä½¿ç”¨<code>Github Pages</code>éƒ¨ç½²ï¼Œåˆ«äººå¯ä»¥é€šè¿‡<code>https://admibrill.github.io</code>æ¥è®¿é—®æˆ‘çš„ç½‘ç«™ã€‚</p>
<h3 id="æœ¬åœ°æºæ–‡ä»¶å­˜å‚¨æ–‡ä»¶å¤¹"><a href="#æœ¬åœ°æºæ–‡ä»¶å­˜å‚¨æ–‡ä»¶å¤¹" class="headerlink" title="æœ¬åœ°æºæ–‡ä»¶å­˜å‚¨æ–‡ä»¶å¤¹"></a>æœ¬åœ°æºæ–‡ä»¶å­˜å‚¨æ–‡ä»¶å¤¹</h3><p>åœ¨ä½ å–œæ¬¢çš„ä½ç½®ï¼Œå»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œèµ·ä¸€ä¸ªå–œæ¬¢çš„åå­—ï¼ˆå»ºè®®ä¸è¦æœ‰æ±‰å­—ï¼‰ã€‚</p>
<p>ä¸åŒçš„äººèµ·çš„åå­—ä¸åŒï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±ç”¨<code>[blogroot]</code>æ¥æŒ‡ä»£ã€‚</p>
<h3 id="node-jså’Œgitçš„å®‰è£…"><a href="#node-jså’Œgitçš„å®‰è£…" class="headerlink" title="node.jså’Œgitçš„å®‰è£…"></a>node.jså’Œgitçš„å®‰è£…</h3><p><a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></p>
<p><a href="https://git-scm.com/downloads">Git - Downloads (git-scm.com)</a></p>
<p>ä¸‹è½½å®‰è£…ä¹‹åï¼Œæ‰“å¼€<code>[blogroot]</code>ï¼Œå³é”®å•å‡»ç©ºç™½å¤„ï¼Œå³å¯å‘ç°èœå•ä¸­å¤šå‡ºæ¥äº†<code>Git Bash Here</code>ä¸€é¡¹</p>
<p> <img src="https://image.m-c.top/?/images/2024/08/23/NuXMqVMoUZ/1111.png" alt=""> </p>
<p>æ‰“å¼€å®ƒï¼Œç„¶ååé¢çš„å¾ˆå¤šå‘½ä»¤éƒ½ä½¿ç”¨bashè¾“å…¥ã€‚</p>
<h3 id="Hexoçš„å®‰è£…"><a href="#Hexoçš„å®‰è£…" class="headerlink" title="Hexoçš„å®‰è£…"></a>Hexoçš„å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œå› ä¸ºæˆ‘æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œé…ç½®ç”¨æˆ·åå’Œé‚®ç®±</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;&lt;your username&gt;&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;&lt;your email&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="è¿æ¥è‡³github"><a href="#è¿æ¥è‡³github" class="headerlink" title="è¿æ¥è‡³github"></a>è¿æ¥è‡³github</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;&lt;your email&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Hexoï¼Œå¯åŠ¨ï¼ï¼ï¼"><a href="#Hexoï¼Œå¯åŠ¨ï¼ï¼ï¼" class="headerlink" title="Hexoï¼Œå¯åŠ¨ï¼ï¼ï¼"></a>Hexoï¼Œå¯åŠ¨ï¼ï¼ï¼</h2><h3 id="åˆå§‹åŒ–Hexo"><a href="#åˆå§‹åŒ–Hexo" class="headerlink" title="åˆå§‹åŒ–Hexo"></a>åˆå§‹åŒ–Hexo</h3><p>æ‰“å¼€<code>[blogroot]</code>,å³é”®é€‰æ‹©â€˜<code>Git bash here</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬çš„<code>[blogroot]</code>ä¸­ç¼“ç¼“å‡ºç°äº†å¾ˆå¤šæ–‡ä»¶ã€‚</p>
<p>Hexoä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…ã€‚</p>
<p>ç­‰å¾…ç¨‹åºæ‰§è¡Œå®Œæˆï¼Œå‘½ä»¤è¡Œä¸­ä¼šå‡ºç°ä¸€å¥<code>Start blogging with Hexo!</code>å°±ä»£è¡¨Hexoåˆå§‹åŒ–æˆåŠŸäº†ã€‚</p>
<h3 id="å®‰è£…æŒ‚è½½ä¾èµ–åŒ…"><a href="#å®‰è£…æŒ‚è½½ä¾èµ–åŒ…" class="headerlink" title="å®‰è£…æŒ‚è½½ä¾èµ–åŒ…"></a>å®‰è£…æŒ‚è½½ä¾èµ–åŒ…</h3><p>æœ‰ä¸€ä¸ªåŒ…Hexoä¸ä¼šè‡ªåŠ¨å®‰è£…ï¼Œå«åš<code>hexo-deployer-git</code>ã€‚</p>
<p>æˆ‘ä»¬å°±è¦ä½¿ç”¨npmçš„å®‰è£…å‘½ä»¤å®‰è£…å®ƒ(ä»¥åå®‰è£…ä¸€äº›åŒ…é€šç”¨)ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>ç­‰å¾…è¿è¡Œå®Œæˆå°±å¥½äº†ã€‚</p>
<h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h3><p>æ‰“å¼€<code>[blogroot]</code>ç›®å½•ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹è®¾ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://&lt;your</span> <span class="string">username&gt;.github.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">	<span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">	<span class="attr">repository:</span> <span class="string">https://github.com/&lt;your</span> <span class="string">username&gt;/&lt;your</span> <span class="string">username&gt;.github.io.git</span></span><br></pre></td></tr></table></figure>
<h3 id="æŒ‚è½½åšå®¢åˆ°Github-Pages"><a href="#æŒ‚è½½åšå®¢åˆ°Github-Pages" class="headerlink" title="æŒ‚è½½åšå®¢åˆ°Github Pages"></a>æŒ‚è½½åšå®¢åˆ°Github Pages</h3><p>å¸¸ç”¨è¿è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo cl</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤ç”¨äºæ¸…é™¤ä¹‹å‰ç”Ÿæˆçš„é™æ€æ–‡ä»¶ã€‚ç¬¬ä¸€æ¬¡æ²¡æœ‰ç”Ÿæˆï¼Œæ‰€ä»¥ä¸ç”¨</p>
<p>åé¢åªè¦ä½¿ç”¨äº†<code>hexo g</code>å°±ä¸€å®šè¦ä½¿ç”¨ï¼Œå› ä¸º<code>hexo g</code>ä¸ä¼šæŠŠä¹‹å‰ç”Ÿæˆè¿‡çš„æ–‡ä»¶å†ç”Ÿæˆä¸€éï¼Œåœ¨<code>hexo g</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±æŠŠç½‘ç«™ä¸Šä¼ äº†ï¼Œå¦‚æœä½ æƒ³åœ¨æœ¬åœ°é¢„è§ˆï¼Œå°±è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>è¿™äº›å°±æ˜¯å¸¸ç”¨å‘½ä»¤ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æˆ‘é€šè¿‡è¿™æ ·çš„æ–¹å¼å»ºç«‹äº†è¿™æ ·çš„ä¸€ä¸ªä¸ªäººç©ºé—´ã€‚</p>
<p>æˆ‘çŸ¥é“ç½‘ä¸Šæœ‰å¾ˆå¤šè¿™æ ·çš„æ•™ç¨‹ï¼Œä½†æ˜¯è¿™æ˜¯æˆ‘çš„ä¸ªäººç»éªŒï¼Œæ€»ä½“ä¸Šè¿˜æ˜¯èƒ½ç®—åŸåˆ›çš„ï¼Œå†æ¬¡æ„Ÿè°¢<a href="https://www.fomal.cc/posts/e593433d.html">Fomalå¤§ä½¬çš„æ•™ç¨‹</a>ã€‚</p>
<p>ä¸‹ä¸€ç¯‡ï¼Œæˆ‘è®²è®²å…³äºåšå®¢çš„ç¾åŒ–ã€‚886ï¼</p>
]]></content>
      <categories>
        <category>Hexo</category>
        <category>æ—¥å¸¸è®°å½•</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>å»ºç«™</tag>
        <tag>å…è´¹</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢0æ°ªå»ºç«™è®°å½•ï¼ˆä¸­ï¼‰</title>
    <url>/2024/08/25/hexo2/</url>
    <content><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>ä¸Šæ¬¡ï¼Œæˆ‘ä»¬å®Œæˆäº†Hexoæ¡†æ¶çš„æ­å»ºã€‚è¿™æ¬¡ï¼Œæˆ‘è®²å¦‚ä½•ç¾åŒ–åšå®¢ã€‚</p>
<p>ä¸€æ‰“å¼€åšå®¢é¡µé¢ï¼Œæ˜¯ä¸€ä¸ªå•è°ƒçš„LandScapeä¸»é¢˜ï¼Œæ²¡æœ‰é¦–é¡µï¼Œè¿˜æœ‰ä¸€ç¯‡hello worldçš„è‹±æ–‡æ–‡ç« ã€‚</p>
<p>æƒ³è‡ªå·±è£…é¥°é‚£ä¹ˆå¤šè‚¯å®šä¸å®¹æ˜“ï¼Œäºæ˜¯æˆ‘ä»¬å°±è¦å»<a href="https://hexo.io/zh-cn">hexoå®˜ç½‘</a>æ¥é€‰æ‹©ä¸€ä¸ªå¥½çœ‹çš„ä¸»é¢˜æ¥è£…é¥°ã€‚</p>
<p>ä¸»é¢˜å°±æ˜¯ä¸€ä¸ªæ¨¡ç‰ˆï¼Œæœ‰å¾ˆå¤šé€‰é¡¹ï¼Œè¿™å°±æ˜¯ä¸»é¢˜çš„é…ç½®ï¼Œå¯ä»¥è‡ªå·±æ¥è®¾ç½®ã€‚</p>
<p>çœ‹äº†ä¸€äº›æ•™ç¨‹ï¼Œä¹Ÿæ”¹äº†å¾ˆå¤šï¼Œæœ‰ä¸€å°éƒ¨åˆ†æ˜¯è‡ªå·±æ”¹çš„ã€‚</p>
<p>æˆ‘ä½¿ç”¨çš„<a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">å®‰çŸ¥é±¼</a>ä¸»é¢˜ï¼Œæ˜¯ä¸€æ¬¾å¯ç”¨åº¦è¾ƒé«˜çš„ä¸»é¢˜ï¼Œæ”¯æŒè®¸å¤šåŠŸèƒ½ï¼Œæ¨èä½¿ç”¨ã€‚</p>
<h2 id="å¯åŠ¨ï¼"><a href="#å¯åŠ¨ï¼" class="headerlink" title="å¯åŠ¨ï¼"></a>å¯åŠ¨ï¼</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œé™æ€ç½‘é¡µæ˜¯ç”±ä¸‰é—¨è¯­è¨€ç¼–å†™çš„ï¼š</p>
<ul>
<li>HTML:è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œæœ‰è®¸å¤šæ ‡ç­¾ï¼Œæœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªç½‘é¡µæ¡†æ¶ã€‚</li>
<li>CSSï¼šå±‚å æ ·å¼è¡¨ï¼Œç”¨äºç»™æ¡†æ¶åŠ ä¸Šåä¸½çš„æ ·å¼ã€‚</li>
<li>JSï¼šjavaç½‘é¡µè„šæœ¬ã€‚ç”¨äºäº¤äº’ã€‚</li>
</ul>
<p>è€Œåšå®¢é­”æ”¹çš„é‡ç‚¹å°±åœ¨CSSå’ŒJSä¸Šã€‚</p>
<p>åšå®¢æœ‰å¾ˆå¤šé­”æ”¹éƒ½æ˜¯çœ‹çš„<a href="www.fomal.cc">Fomalå¤§ä½¬</a>æ•´ç†çš„æ•™ç¨‹ï¼Œå°±æŠŠé‡‡çº³äº†çš„å’Œè‡ªå·±æ”¹çš„å†™åœ¨è¿™é‡Œã€‚</p>
<p>å®‰çŸ¥é±¼ä¸»é¢˜çš„æœ«å°¾å¤„æœ‰ä¸€ä¸ª<code>inject:</code>é…ç½®é¡¹ï¼Œè¿™é‡Œå¯ä»¥ç”¨äºåœ¨ç½‘é¡µå¤´å’Œå°¾å¼•å…¥å¤–é“¾csså’Œjsæ–‡ä»¶ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span> </span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  	<span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  	<span class="string">...</span></span><br></pre></td></tr></table></figure>
<p>CSSæ–‡ä»¶ä¸€èˆ¬æ”¾åœ¨headå†…ï¼Œå› ä¸ºæ ·å¼éœ€è¦å†é¢„åŠ è½½å®Œæˆå‰æ¸²æŸ“ï¼Œè¿™æ ·å°±å¯ä»¥ç»™è®©ç½‘é¡µè®¿é—®è€…æ›´å¥½çš„ä½“éªŒã€‚</p>
<p>è€ŒJSä¸€èˆ¬æ”¾åœ¨bottomï¼Œå› ä¸ºJSæ—¶å¸¸éœ€è¦è·å–HTMLä¸­çš„å…ƒç´ ï¼Œå¦‚æœåœ¨headå°±å¼•å…¥ï¼Œæ‰§è¡Œï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½é€ æˆå…ƒç´ è·å–ä¸åˆ°ï¼Œè¿”å›äº†nullï¼Œç„¶è¿™ä¸ªjsè„šæœ¬æ‰§è¡Œä¸­æ­¢ã€‚</p>
<h2 id="é­”æ”¹å¼€å§‹ï¼ï¼ï¼"><a href="#é­”æ”¹å¼€å§‹ï¼ï¼ï¼" class="headerlink" title="é­”æ”¹å¼€å§‹ï¼ï¼ï¼"></a>é­”æ”¹å¼€å§‹ï¼ï¼ï¼</h2><p><del>ä»è¿™é‡Œå¼€å§‹ï¼Œæœ‰éƒ¨åˆ†å†…å®¹éƒ½æ˜¯é“¾æ¥</del></p>
<h3 id="é»‘å¤œéœ“è™¹ç¯ã€æ˜Ÿç©ºå’Œæµè¡Œç‰¹æ•ˆé‡æ„"><a href="#é»‘å¤œéœ“è™¹ç¯ã€æ˜Ÿç©ºå’Œæµè¡Œç‰¹æ•ˆé‡æ„" class="headerlink" title="é»‘å¤œéœ“è™¹ç¯ã€æ˜Ÿç©ºå’Œæµè¡Œç‰¹æ•ˆé‡æ„"></a>é»‘å¤œéœ“è™¹ç¯ã€æ˜Ÿç©ºå’Œæµè¡Œç‰¹æ•ˆé‡æ„</h3><p><a href="https://www.fomal.cc/posts/eec9786.html">Hexoåšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(ä¸€) | FomalhautğŸ¥</a></p>
<h3 id="å¤–æŒ‚æ ‡ç­¾çš„å¼•å…¥"><a href="#å¤–æŒ‚æ ‡ç­¾çš„å¼•å…¥" class="headerlink" title="å¤–æŒ‚æ ‡ç­¾çš„å¼•å…¥"></a>å¤–æŒ‚æ ‡ç­¾çš„å¼•å…¥</h3><p><a href="https://akilar.top/posts/615e2dec/">Tag Plugins Plus | Akilarã®ç³–æœå±‹</a></p>
<h3 id="é¼ æ ‡æ ·å¼"><a href="#é¼ æ ‡æ ·å¼" class="headerlink" title="é¼ æ ‡æ ·å¼"></a>é¼ æ ‡æ ·å¼</h3><p><a href="https://www.fomal.cc/posts/5389e93f.html">Hexoåšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(äºŒ)| FomalhautğŸ¥</a></p>
<h3 id="å³ä¸‹è§’å·¥å…·æŒ‰é’®æ˜¾ç¤ºé˜…è¯»è¿›åº¦"><a href="#å³ä¸‹è§’å·¥å…·æŒ‰é’®æ˜¾ç¤ºé˜…è¯»è¿›åº¦" class="headerlink" title="å³ä¸‹è§’å·¥å…·æŒ‰é’®æ˜¾ç¤ºé˜…è¯»è¿›åº¦"></a>å³ä¸‹è§’å·¥å…·æŒ‰é’®æ˜¾ç¤ºé˜…è¯»è¿›åº¦</h3><p><a href="https://blog.leonus.cn/2022/percent.html">è¿”å›é¡¶éƒ¨æ˜¾ç¤ºç½‘é¡µé˜…è¯»è¿›åº¦ | Leonus</a></p>
<h3 id="Vue-Elementæ ·å¼å¼¹çª—"><a href="#Vue-Elementæ ·å¼å¼¹çª—" class="headerlink" title="Vue+Elementæ ·å¼å¼¹çª—"></a>Vue+Elementæ ·å¼å¼¹çª—</h3><p><a href="https://www.fomal.cc/posts/2d7ac914.html">Hexoåšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“(ä¸‰) | FomalhautğŸ¥</a></p>
<h3 id="æ–‡ç« ç»Ÿè®¡å›¾"><a href="#æ–‡ç« ç»Ÿè®¡å›¾" class="headerlink" title="æ–‡ç« ç»Ÿè®¡å›¾"></a>æ–‡ç« ç»Ÿè®¡å›¾</h3><p><a href="https://blog.eurkon.com/post/1213ef82.html">Hexo åšå®¢æ–‡ç« ç»Ÿè®¡å›¾ | Eurkon</a></p>
<h3 id="å…¬å‘Šæ æ¬¢è¿ä¿¡æ¯"><a href="#å…¬å‘Šæ æ¬¢è¿ä¿¡æ¯" class="headerlink" title="å…¬å‘Šæ æ¬¢è¿ä¿¡æ¯"></a>å…¬å‘Šæ æ¬¢è¿ä¿¡æ¯</h3><p><a href="https://ichika.cc/Article/beautiful_IPLocation/">ç»™åšå®¢æ·»åŠ è…¾è®¯åœ°å›¾å®šä½å¹¶åˆ¶ä½œä¸ªæ€§æ¬¢è¿ | ichikaã®å°çª</a></p>
<p>ä½ ä»¥ä¸ºå…¬å‘Šæ æ¬¢è¿ä¿¡æ¯è¿™å°±ç»“æŸäº†?NO!NO!NO!</p>
<p>ç”±äº<a href="https://lbs.qq.com/">è…¾è®¯å®šä½æœåŠ¡</a>å®åœ¨å¤ªæŠ é—¨ï¼Œæ¯å¤©å°±è®©ä¸€æ¬¡è¯·æ±‚ï¼Œäºæ˜¯æˆ‘æ‰¾æ¥äº†<a href="ip-api.com">ip-api.com</a>ï¼ˆä¸»æ‰“ä¸€ä¸ª0æ°ªï¼‰</p>
<p>ä¹‹å‰çš„<del><code>txmap.js</code></del>æ”¹æˆè¿™æ ·ï¼šæ„Ÿè°¢ichikaæä¾›çš„ä»£ç ï¼ˆå› ä¸ºæ¢äº†APIï¼Œå“åº”ç»“æœçš„ç»“æ„éƒ½å˜äº†ï¼Œäºæ˜¯æœ‰å¾ˆå¤šåœ°æ–¹è¦æ”¹ï¼Œäºæ˜¯å…¨ç²˜è¿›æ¥ï¼‰</p>
<p>ï¼ˆæ˜¯ä¸æ˜¯åº”è¯¥æ¢ä¸ªæ–‡ä»¶åï¼Ÿï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//getè¯·æ±‚</span></span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;http://ip-api.com/json/?fields=status,message,continent,continentCode,country,countryCode,region,regionName,city,district,zip,lat,lon,timezone,offset,currency,isp,org,as,asname,reverse,mobile,proxy,hosting,query&amp;lang=zh-CN&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">callback</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        ipLoacation = res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDistance</span>(<span class="params">e1, n1, e2, n2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> R = <span class="number">6371</span></span><br><span class="line">    <span class="keyword">const</span> &#123; sin, cos, asin, <span class="variable constant_">PI</span>, hypot &#125; = <span class="title class_">Math</span></span><br><span class="line">    <span class="keyword">let</span> <span class="title function_">getPoint</span> = (<span class="params">e, n</span>) =&gt; &#123;</span><br><span class="line">        e *= <span class="variable constant_">PI</span> / <span class="number">180</span></span><br><span class="line">        n *= <span class="variable constant_">PI</span> / <span class="number">180</span></span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">x</span>: <span class="title function_">cos</span>(n) * <span class="title function_">cos</span>(e), <span class="attr">y</span>: <span class="title function_">cos</span>(n) * <span class="title function_">sin</span>(e), <span class="attr">z</span>: <span class="title function_">sin</span>(n) &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> a = <span class="title function_">getPoint</span>(e1, n1)</span><br><span class="line">    <span class="keyword">let</span> b = <span class="title function_">getPoint</span>(e2, n2)</span><br><span class="line">    <span class="keyword">let</span> c = <span class="title function_">hypot</span>(a.<span class="property">x</span> - b.<span class="property">x</span>, a.<span class="property">y</span> - b.<span class="property">y</span>, a.<span class="property">z</span> - b.<span class="property">z</span>)</span><br><span class="line">    <span class="keyword">let</span> r = <span class="title function_">asin</span>(c / <span class="number">2</span>) * <span class="number">2</span> * R</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(r*<span class="number">1000</span>)/<span class="number">1000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showWelcome</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> dist = <span class="title function_">getDistance</span>(<span class="number">114.337006</span>, <span class="number">30.525186</span>, ipLoacation.<span class="property">lon</span>, ipLoacation.<span class="property">lat</span>); <span class="comment">//è¿™é‡Œæ¢æˆè‡ªå·±çš„ç»çº¬åº¦</span></span><br><span class="line">    <span class="keyword">let</span> pos = ipLoacation.<span class="property">country</span>;</span><br><span class="line">    <span class="keyword">let</span> ip;</span><br><span class="line">    <span class="keyword">let</span> posdesc;</span><br><span class="line">    <span class="comment">//æ ¹æ®å›½å®¶ã€çœä»½ã€åŸå¸‚ä¿¡æ¯è‡ªå®šä¹‰æ¬¢è¿è¯­</span></span><br><span class="line">    <span class="keyword">switch</span> (ipLoacation.<span class="property">country</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;æ—¥æœ¬&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;ã‚ˆã‚ã—ãï¼Œä¸€èµ·å»çœ‹æ¨±èŠ±å—&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ç¾å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Let us live in peace!&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;è‹±å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;æƒ³åŒä½ ä¸€èµ·å¤œä¹˜ä¼¦æ•¦çœ¼&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ä¿„ç½—æ–¯&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;æ³•å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;C&#x27;est La Vie&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;å¾·å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Die Zeit verging im Fluge.&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;æ¾³å¤§åˆ©äºš&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;ä¸€èµ·å»å¤§å ¡ç¤å§ï¼&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;åŠ æ‹¿å¤§&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ &quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ä¸­å›½&quot;</span>:</span><br><span class="line">            pos = ipLoacation.<span class="property">country</span>+ <span class="string">&quot; &quot;</span> +ipLoacation.<span class="property">regionName</span> + <span class="string">&quot; &quot;</span> + ipLoacation.<span class="property">city</span>;</span><br><span class="line">            ip = ipLoacation.<span class="property">query</span>;</span><br><span class="line">            <span class="keyword">switch</span> (ipLoacation.<span class="property">regionName</span>) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;åŒ—äº¬&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å¤©æ´¥&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;è®²æ®µç›¸å£°å§ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ²³åŒ—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³ã€‚é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å±±è¥¿çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å†…è’™å¤è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Šã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;è¾½å®çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å‰æ—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é»‘é¾™æ±Ÿçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;ä¸Šæµ·å¸‚&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ±Ÿè‹çœ&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLoacation.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;å—äº¬&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;è¿™æ˜¯æˆ‘æŒºæƒ³å»çš„åŸå¸‚å•¦ã€‚&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;è‹å·&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­ã€‚&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„ã€‚&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æµ™æ±Ÿçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ²³å—çœ&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLoacation.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;éƒ‘å·&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;è±«å·ä¹‹åŸŸï¼Œå¤©åœ°ä¹‹ä¸­ã€‚&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;å—é˜³&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ã€‚æ­¤å—é˜³éå½¼å—é˜³ï¼&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;é©»é©¬åº—&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;å³°å³°æœ‰å¥‡çŸ³ï¼ŒçŸ³çŸ³æŒŸä»™æ°”ã€‚åµ–å²ˆå±±çš„èŠ±å¾ˆç¾å“¦ï¼&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;å¼€å°&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;åˆšæ­£ä¸é˜¿åŒ…é’å¤©ã€‚&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;æ´›é˜³&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;æ´›é˜³ç‰¡ä¸¹ç”²å¤©ä¸‹ã€‚&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;å¯å¦å¸¦æˆ‘å“å°æ²³å—çƒ©é¢å•¦ï¼Ÿ&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å®‰å¾½çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;ç¦å»ºçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ±Ÿè¥¿çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å±±ä¸œçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ¹–åŒ—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ¥ç¢—çƒ­å¹²é¢ï¼&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ¹–å—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;74751ï¼Œé•¿æ²™æ–¯å¡”å…‹ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å¹¿ä¸œçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;è€æ¿æ¥ä¸¤æ–¤ç¦å»ºäººã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å¹¿è¥¿å£®æ—è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æµ·å—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å››å·çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;åº·åº·å·å¦¹å­ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;è´µå·çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;äº‘å—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;è¥¿è—è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é™•è¥¿çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ¥ä»½è‡Šå­é¢åŠ é¦ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;ç”˜è‚ƒçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é’æµ·çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å®å¤å›æ—è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å°æ¹¾çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰ã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œã€‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="attr">default</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§ï¼&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§ã€‚Show me around your country.&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ ¹æ®æœ¬åœ°æ—¶é—´åˆ‡æ¢æ¬¢è¿è¯­</span></span><br><span class="line">    <span class="keyword">let</span> timeChange;</span><br><span class="line">    <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">5</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">11</span>) timeChange = <span class="string">&quot;&lt;span&gt;ä¸Šåˆå¥½&lt;/span&gt;ï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨ï¼&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">11</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">13</span>) timeChange = <span class="string">&quot;&lt;span&gt;ä¸­åˆå¥½&lt;/span&gt;ï¼Œè¯¥æ‘¸é±¼åƒåˆé¥­äº†ã€‚&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">13</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">15</span>) timeChange = <span class="string">&quot;&lt;span&gt;ä¸‹åˆå¥½&lt;/span&gt;ï¼Œæ‡’æ‡’åœ°ç¡ä¸ªåˆè§‰å§ï¼&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">15</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">16</span>) timeChange = <span class="string">&quot;&lt;span&gt;ä¸‰ç‚¹å‡ å•¦&lt;/span&gt;ï¼Œä¸€èµ·é¥®èŒ¶å‘€ï¼&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">16</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">19</span>) timeChange = <span class="string">&quot;&lt;span&gt;å¤•é˜³æ— é™å¥½ï¼&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">19</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">24</span>) timeChange = <span class="string">&quot;&lt;span&gt;æ™šä¸Šå¥½&lt;/span&gt;ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> timeChange = <span class="string">&quot;å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œå°‘ç†¬å¤œã€‚&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰æ–‡æœ¬å’Œéœ€è¦æ”¾çš„ä½ç½®</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;welcome-info&quot;</span>).<span class="property">innerHTML</span> =</span><br><span class="line">            <span class="string">`&lt;b&gt;&lt;center&gt;ğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰&lt;/center&gt;&amp;emsp;&amp;emsp;æ¬¢è¿æ¥è‡ª &lt;span style=&quot;color:var(--theme-color)&quot;&gt;<span class="subst">$&#123;pos&#125;</span>&lt;/span&gt; çš„å°ä¼™ä¼´ï¼Œ<span class="subst">$&#123;timeChange&#125;</span>æ‚¨ç°åœ¨è·ç¦»ç«™é•¿çº¦ &lt;span style=&quot;color:var(--theme-color)&quot;&gt;<span class="subst">$&#123;dist&#125;</span>&lt;/span&gt; å…¬é‡Œï¼Œå½“å‰çš„IPåœ°å€ä¸ºï¼š &lt;span style=&quot;color:var(--theme-color)&quot;&gt;<span class="subst">$&#123;ip&#125;</span>&lt;/span&gt;ï¼Œ <span class="subst">$&#123;posdesc&#125;</span>&lt;/b&gt;`</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Pjaxæ— æ³•è·å–#welcome-infoå…ƒç´ ğŸ™„ğŸ™„ğŸ™„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = showWelcome;</span><br><span class="line"><span class="comment">// å¦‚æœä½¿ç”¨äº†pjaxåœ¨åŠ ä¸Šä¸‹é¢è¿™è¡Œä»£ç </span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, showWelcome);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="FPSæ£€æµ‹ï¼ˆAriasakaï¼‰"><a href="#FPSæ£€æµ‹ï¼ˆAriasakaï¼‰" class="headerlink" title="FPSæ£€æµ‹ï¼ˆAriasakaï¼‰"></a>FPSæ£€æµ‹ï¼ˆAriasakaï¼‰</h3><p><a href="https://blog.yaria.top/posts/670e47f/">åšå®¢é­”æ”¹æ—¥è®°ï¼ˆ3ï¼‰ | Ariasakaã®å°çª (yaria.top)</a></p>
<h3 id="ç»¼åˆç¾åŒ–çª—å£"><a href="#ç»¼åˆç¾åŒ–çª—å£" class="headerlink" title="ç»¼åˆç¾åŒ–çª—å£"></a>ç»¼åˆç¾åŒ–çª—å£</h3><p><a href="https://www.fomal.cc/posts/9ac969bb.html">ç»¼åˆç¾åŒ–æ¨¡å—æ•™ç¨‹ | FomalhautğŸ¥</a></p>
<p>Fomalå‚è€ƒäº†Leonusçš„æ•™ç¨‹ï¼Œä½†æ˜¯<del>è¿˜æ˜¯Fomalçš„æ›´å…¨é¢</del>ï¼Œæ‰€ä»¥ç”¨äº†Fomalçš„</p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼ŒFomalä»–ä½¿ç”¨äº†è‡ªå®šä¹‰å›¾æ ‡ï¼ŒæŒ‰ä»–çš„å¯¼èˆªæ æ¥ï¼Œå®‰çŸ¥é±¼å›¾æ ‡ä¸é€‚é…ï¼Œäºæ˜¯<code>nav.pug</code>ä¸‹é¢çš„éƒ¨åˆ†æ”¹æˆè¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#menus</span><br><span class="line">      !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    #nav-right</span><br><span class="line">      if theme.nav.travelling</span><br><span class="line">        .nav-button.only-home#travellings_button(title=&#x27;éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™&#x27;)</span><br><span class="line">          a.site-page(onclick=&#x27;anzhiyu.totraveling()&#x27;, title=&#x27;éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™&#x27;, href=&#x27;javascript:void(0);&#x27;, rel=&#x27;external nofollow&#x27;, data-pjax-state=&#x27;external&#x27;)</span><br><span class="line">            i.anzhiyufont.anzhiyu-icon-train</span><br><span class="line">      .nav-button#randomPost_button</span><br><span class="line">        a.site-page(onclick=&#x27;toRandomPost()&#x27;, title=&#x27;éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« &#x27;, href=&#x27;javascript:void(0);&#x27;)</span><br><span class="line">          i.anzhiyufont.anzhiyu-icon-dice</span><br><span class="line">      if (theme.algolia_search.enable || theme.local_search.enable || theme.docsearch.enable)</span><br><span class="line">        div.nav-button#search-button</span><br><span class="line">          a.site-page.social-icon.search(href=&#x27;javascript:void(0);&#x27;, title=&#x27;æœç´¢ğŸ”&#x27; accesskey=&quot;s&quot;)</span><br><span class="line">            i.anzhiyufont.anzhiyu-icon-magnifying-glass</span><br><span class="line">            span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span><br><span class="line">          </span><br><span class="line">      //- ç¾åŒ–è®¾ç½®å¼€å§‹</span><br><span class="line">      div.nav-button</span><br><span class="line">        a.meihua.faa-parent.animated-hover(onclick=&quot;toggleWinbox()&quot; title=&quot;ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼&quot; id=&quot;meihua-button&quot; )</span><br><span class="line">          i.anzhiyufont.anzhiyu-icon-pencil</span><br><span class="line">      //- ä¿®æ”¹ç»“æŸ</span><br><span class="line">      if theme.centerConsole.enable</span><br><span class="line">        input#center-console(type=&quot;checkbox&quot;)</span><br><span class="line">        label.widget(for=&quot;center-console&quot; title=_p(&quot;ä¸­æ§å°&quot;) onclick=&quot;anzhiyu.switchConsole();&quot;)</span><br><span class="line">          i.left</span><br><span class="line">          i.widget.center</span><br><span class="line">          i.widget.right</span><br><span class="line"></span><br><span class="line">      !=partial(&#x27;includes/anzhiyu/console&#x27;, &#123;&#125;, &#123;cache:true&#125;)</span><br><span class="line"></span><br><span class="line">      div.nav-button#nav-totop</span><br><span class="line">        a.totopbtn(href=&#x27;javascript:void(0);&#x27;)</span><br><span class="line">          i.anzhiyufont.anzhiyu-icon-arrow-up</span><br><span class="line">          span#percent(onclick=&quot;anzhiyu.scrollToDest(0,500)&quot;) 0</span><br><span class="line"></span><br><span class="line">      #toggle-menu</span><br><span class="line">        a.site-page(href=&#x27;javascript:void(0);&#x27; title=&quot;åˆ‡æ¢&quot;)</span><br><span class="line">          i.anzhiyufont.anzhiyu-icon-bars</span><br></pre></td></tr></table></figure>
<h3 id="ç²’å­è¿çº¿-é¼ æ ‡äº¤äº’ç‰¹æ•ˆ"><a href="#ç²’å­è¿çº¿-é¼ æ ‡äº¤äº’ç‰¹æ•ˆ" class="headerlink" title="ç²’å­è¿çº¿+é¼ æ ‡äº¤äº’ç‰¹æ•ˆ"></a>ç²’å­è¿çº¿+é¼ æ ‡äº¤äº’ç‰¹æ•ˆ</h3><p>é¦–å…ˆï¼Œæ„Ÿè°¢<a href="www.ordchaos.com">åºç‚</a>ç»™çš„<code>canvas-nest-mouse.min.js</code>ï¼ˆæˆ‘ä¹Ÿä¸æ¸…æ¥šåŸä½œè€…æ˜¯è°ï¼Œä½†æ˜¯æ˜¯ä»–ç»™æˆ‘çš„ï¼‰</p>
<p>æŠŠå®ƒå¤–é“¾å¼•å…¥å°±å¯ä»¥äº†ï¼Œè¿™æ˜¯JSä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">!<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">o</span>(<span class="params">w, v, i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> w.<span class="title function_">getAttribute</span>(v) || i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">j</span>(<span class="params">i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(i)</span><br><span class="line">    &#125; <span class="keyword">function</span> <span class="title function_">l</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="title function_">j</span>(<span class="string">&quot;script&quot;</span>), w = i.<span class="property">length</span>, v = i[w - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">l</span>: w, <span class="attr">z</span>: <span class="title function_">o</span>(v, <span class="string">&quot;zIndex&quot;</span>, -<span class="number">1</span>), <span class="attr">o</span>: <span class="title function_">o</span>(v, <span class="string">&quot;opacity&quot;</span>, <span class="number">0.5</span>), <span class="attr">c</span>: <span class="title function_">o</span>(v, <span class="string">&quot;color&quot;</span>, <span class="string">&quot;0,0,0&quot;</span>), <span class="attr">n</span>: <span class="title function_">o</span>(v, <span class="string">&quot;count&quot;</span>, <span class="number">500</span>) &#125; <span class="comment">/*ç»ç ”ç©¶ï¼Œå‘ç°countæ˜¯ç²’å­çš„æ•°é‡ï¼Œä¸è¦è°ƒå¤ªå¤šï¼Œä¸ç„¶ä¼šç²’å­æ³›æ»¥*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">k</span>(<span class="params"></span>) &#123;</span><br><span class="line">        r = u.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span>, n = u.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">b</span>(<span class="params"></span>) &#123;</span><br><span class="line">        e.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, r, n);</span><br><span class="line">        <span class="keyword">var</span> w = [f].<span class="title function_">concat</span>(t);</span><br><span class="line">        <span class="keyword">var</span> x, v, A, B, z, y;</span><br><span class="line">        t.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">i</span>) &#123;</span><br><span class="line">            i.<span class="property">x</span> += i.<span class="property">xa</span>, i.<span class="property">y</span> += i.<span class="property">ya</span>, i.<span class="property">xa</span> *= i.<span class="property">x</span> &gt; r || i.<span class="property">x</span> &lt; <span class="number">0</span> ? -<span class="number">1</span> : <span class="number">1</span>, i.<span class="property">ya</span> *= i.<span class="property">y</span> &gt; n || i.<span class="property">y</span> &lt; <span class="number">0</span> ? -<span class="number">1</span> : <span class="number">1</span>, e.<span class="title function_">fillRect</span>(i.<span class="property">x</span> - <span class="number">0.5</span>, i.<span class="property">y</span> - <span class="number">0.5</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (v = <span class="number">0</span>; v &lt; w.<span class="property">length</span>; v++) &#123;</span><br><span class="line">                x = w[v];</span><br><span class="line">                <span class="keyword">if</span> (i !== x &amp;&amp; <span class="literal">null</span> !== x.<span class="property">x</span> &amp;&amp; <span class="literal">null</span> !== x.<span class="property">y</span>) &#123;</span><br><span class="line">                    B = i.<span class="property">x</span> - x.<span class="property">x</span>, z = i.<span class="property">y</span> - x.<span class="property">y</span>, y = B * B + z * z;</span><br><span class="line">                    y &lt; x.<span class="property">max</span> &amp;&amp; (x === f &amp;&amp; y &gt;= x.<span class="property">max</span> / <span class="number">2</span> &amp;&amp; (i.<span class="property">x</span> -= <span class="number">0.03</span> * B, i.<span class="property">y</span> -= <span class="number">0.03</span> * z), A = (x.<span class="property">max</span> - y) / x.<span class="property">max</span>, e.<span class="title function_">beginPath</span>(), e.<span class="property">lineWidth</span> = A / <span class="number">2</span>, e.<span class="property">strokeStyle</span> = <span class="string">&quot;rgba(&quot;</span> + s.<span class="property">c</span> + <span class="string">&quot;,&quot;</span> + (A + <span class="number">0.2</span>) + <span class="string">&quot;)&quot;</span>, e.<span class="title function_">moveTo</span>(i.<span class="property">x</span>, i.<span class="property">y</span>), e.<span class="title function_">lineTo</span>(x.<span class="property">x</span>, x.<span class="property">y</span>), e.<span class="title function_">stroke</span>())</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; w.<span class="title function_">splice</span>(w.<span class="title function_">indexOf</span>(i), <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        &#125;), <span class="title function_">m</span>(b)</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">var</span> u = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>), s = <span class="title function_">l</span>(), c = <span class="string">&quot;c_n&quot;</span> + s.<span class="property">l</span>, e = u.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>), r, n, m = <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">oRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span> || <span class="keyword">function</span> (<span class="params">i</span>) &#123; <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(i, <span class="number">1000</span> / <span class="number">45</span>) &#125;, a = <span class="title class_">Math</span>.<span class="property">random</span>, f = &#123; <span class="attr">x</span>: <span class="literal">null</span>, <span class="attr">y</span>: <span class="literal">null</span>, <span class="attr">max</span>: <span class="number">20000</span> &#125;;</span><br><span class="line">    u.<span class="property">id</span> = c;</span><br><span class="line">    u.<span class="property">className</span>=<span class="string">&quot;lizicanvas&quot;</span>;<span class="comment">/*ä¸ºäº†æ–¹ä¾¿å¼€å…³ç²’å­ç‰¹æ•ˆï¼Œè‡ªå·±ç»™ç²’å­çš„canvasåŠ äº†ä¸€ä¸ªç±»*/</span></span><br><span class="line">    u.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">&quot;position:fixed;top:0;left:0;z-index:&quot;</span> + s.<span class="property">z</span> + <span class="string">&quot;;opacity:&quot;</span> + s.<span class="property">o</span>;</span><br><span class="line">    <span class="title function_">j</span>(<span class="string">&quot;body&quot;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(u);</span><br><span class="line">    <span class="title function_">k</span>(), <span class="variable language_">window</span>.<span class="property">onresize</span> = k;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">onmousemove</span> = <span class="keyword">function</span> (<span class="params">i</span>) &#123; i = i || <span class="variable language_">window</span>.<span class="property">event</span>, f.<span class="property">x</span> = i.<span class="property">clientX</span>, f.<span class="property">y</span> = i.<span class="property">clientY</span> &#125;, <span class="variable language_">window</span>.<span class="property">onmouseout</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; f.<span class="property">x</span> = <span class="literal">null</span>, f.<span class="property">y</span> = <span class="literal">null</span> &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = [], p = <span class="number">0</span>;s.<span class="property">n</span> &gt; p;p++) &#123;</span><br><span class="line">        <span class="keyword">var</span> h = <span class="title function_">a</span>() * r, g = <span class="title function_">a</span>() * n, q = <span class="number">2</span> * <span class="title function_">a</span>() - <span class="number">1</span>, d = <span class="number">2</span> * <span class="title function_">a</span>() - <span class="number">1</span>;</span><br><span class="line">        t.<span class="title function_">push</span>(&#123; <span class="attr">x</span>: h, <span class="attr">y</span>: g, <span class="attr">xa</span>: q, <span class="attr">ya</span>: d, <span class="attr">max</span>: <span class="number">6000</span> &#125;)</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="title function_">b</span>() &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¥½äº†ï¼Œå†™äº†è¿™ä¹ˆå¤šï¼Œå…¨æ˜¯é“¾æ¥ï¼Œä¸‹æœŸå†™è¯„è®ºç­‰ç³»ç»Ÿçš„éƒ¨ç½²ç»éªŒï¼Œæ‹œæ‹œã€‚</p>
]]></content>
      <categories>
        <category>Hexo</category>
        <category>æ—¥å¸¸è®°å½•</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>å»ºç«™</tag>
        <tag>å…è´¹</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢0æ°ªå»ºç«™è®°å½•ï¼ˆä¸‹ï¼‰</title>
    <url>/2024/08/29/hexo3/</url>
    <content><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><ol>
<li><p>æˆ‘è¿˜æ²¡è¯´è¿‡æˆ‘åŸŸåæ˜¯æ€ä¹ˆæ¥çš„</p>
</li>
<li><p><del>å»ºç«™ä¸çŸ¥é“å¤šå°‘å¤©äº†</del>ï¼Œæˆ‘çš„æœ‹å‹åœˆç«Ÿç„¶è¿˜é•¿è¿™æ ·ï¼š<br><img src="https://source-admibrill.pages.dev/file/7bd9ae102aa38c6193185.png" alt=""><br>åœ¨çœ‹äº†æ¸…ç¾½é£æ‰¬çš„<a href="https://blog.liushen.fun/posts/4dc716ec/">Friend-Circle-Lite:è½»é‡å‹é“¾æœ‹å‹åœˆ</a>ä¹‹åï¼Œæ‰‹ç—’äº†ï¼Œå†³å®šæä¸€ä¸ªã€‚</p>
</li>
<li><p>è¿˜æœ‰ï¼Œæˆ‘è¿˜éœ€è¦è‡ªå»ºå›¾åºŠã€‚äºæ˜¯ä½¿ç”¨<a href="https://github.com/cf-pages/Telegraph-Image">Telegraph Image</a>åšäº†ä¸€ä¸ªã€‚ä¹‹å‰ç”¨githubæè¿‡ä¸€ä¸ªï¼Œå¯æ˜¯å¬åˆ«äººè¯´ï¼Œgithubç¦æ­¢æŠŠä»“åº“å½“å›¾åºŠï¼Œè½»åˆ™åˆ åº“ï¼Œé‡åˆ™å°å·ï¼Œä»“åº“å¤§äº1GBå°±è¦äººå·¥å®¡æ ¸ï¼Œæ‰€ä»¥å°±ç”¨äº†è¿™ç§æ–¹æ³•ã€‚</p>
</li>
</ol>
<h2 id="ä½¿ç”¨cloudflare-Pageséƒ¨ç½²Github-Pagesçš„ç½‘ç«™ï¼ˆï¼Ÿï¼‰"><a href="#ä½¿ç”¨cloudflare-Pageséƒ¨ç½²Github-Pagesçš„ç½‘ç«™ï¼ˆï¼Ÿï¼‰" class="headerlink" title="ä½¿ç”¨cloudflare Pageséƒ¨ç½²Github Pagesçš„ç½‘ç«™ï¼ˆï¼Ÿï¼‰"></a>ä½¿ç”¨cloudflare Pageséƒ¨ç½²Github Pagesçš„ç½‘ç«™ï¼ˆï¼Ÿï¼‰</h2><p>å®åœ¨æ— æ³•ç†è§£ï¼Œä¹‹å‰é‚£ä¸ª<code>admibrill.github.io</code>è›®å¥½ï¼Œä½†è¿‡äº†å‡ å¤©å°±æ— æ³•è®¿é—®äº†ï¼ˆï¼Ÿï¼‰,ä½†æ˜¯æˆ‘çš„ä¸€äº›æœ‹å‹è¿˜èƒ½è®¿é—®ï¼ˆï¼Ÿï¼‰,ä¸ºäº†è®©è‡ªå·±èƒ½å¤Ÿè®¿é—®ï¼Œæˆ‘æŠŠgithubä¸Šçš„é¡¹ç›®ä»“åº“åœ¨cfä¸Šåˆéƒ¨ç½²äº†ä¸€æ¬¡ã€‚</p>
<p>é¦–å…ˆï¼Œæ‰“å¼€cloudflare,æ‰¾åˆ°<code>Workerså’ŒPages</code>ç„¶åè¿›å…¥ï¼Œç‚¹å‡»åˆ›å»ºï¼Œåˆ›å»ºä¸€ä¸ªéƒ¨ç½²ã€‚</p>
<p><img src="https://source-admibrill.pages.dev/file/06561d555b0e66e7ef27c.png" alt=""></p>
<p><img src="https://source-admibrill.pages.dev/file/9e300d58129a590f871dc.png" alt=""></p>
<p>é€‰æ‹©ä»“åº“ï¼Œç­‰ç¨‹åºè·‘å®Œå°±å¯ä»¥äº†ã€‚</p>
<h2 id="å‹é“¾æœ‹å‹åœˆ"><a href="#å‹é“¾æœ‹å‹åœˆ" class="headerlink" title="å‹é“¾æœ‹å‹åœˆ"></a>å‹é“¾æœ‹å‹åœˆ</h2><p>è¿™ä¸€éƒ¨åˆ†å‚è€ƒæ¸…ç¾½é£æ‰¬çš„åšæ–‡ï¼Œ<del>æ¸…ç¾½çš„é‡Œé¢æœ‰å¾ˆå¤šç¢ç¢å¿µ</del>ï¼Œæˆ‘ç²¾ç®€ä¸€ç‚¹ã€‚</p>
<h3 id="jsonå­˜å‚¨æ–‡ä»¶"><a href="#jsonå­˜å‚¨æ–‡ä»¶" class="headerlink" title=".jsonå­˜å‚¨æ–‡ä»¶"></a>.jsonå­˜å‚¨æ–‡ä»¶</h3><p>è¿™ä¸ªæ–‡ä»¶ç”¨äºè®°å½•æœ‹å‹åœˆé‡Œä¼šæ˜¾ç¤ºçš„å‹ç«™ã€‚</p>
<p>æˆ‘ä»¬çš„å‹é“¾æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸èƒ½æ¯æ¬¡æ”¹äº†å‹é“¾éƒ½è¦æ”¹è¿™ä¸ªjsonæ–‡ä»¶ã€‚äºæ˜¯æ¸…ç¾½é£æ‰¬æä¾›äº†ç”Ÿæˆ.jsonæ–‡ä»¶çš„JavaScriptï¼š</p>
<p>åœ¨<code>[blogroot]</code>æ–°å»ºæ–‡ä»¶<code>link.js</code>ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼šï¼ˆæ„Ÿè°¢ä»£ç ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">YML</span> = <span class="built_in">require</span>(<span class="string">&#x27;yamljs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> blacklist = [<span class="string">&quot;å‹ç«™åç§°1&quot;</span>, <span class="string">&quot;å‹ç«™åç§°2&quot;</span>, <span class="string">&quot;å‹ç«™åç§°3&quot;</span>]; <span class="comment">// ç”±äºæŸç§åŸå› ï¼Œä¸æƒ³è®¢é˜…çš„åˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> friends = [],</span><br><span class="line">    data_f = <span class="variable constant_">YML</span>.<span class="title function_">parse</span>(fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;source/_data/link.yml&#x27;</span>).<span class="title function_">toString</span>().<span class="title function_">replace</span>(<span class="regexp">/(?&lt;=rss:)\s*\n/g</span>, <span class="string">&#x27; &quot;&quot;\n&#x27;</span>));</span><br><span class="line"></span><br><span class="line">data_f.<span class="title function_">forEach</span>(<span class="function">(<span class="params">entry, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> lastIndex = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; lastIndex) &#123;</span><br><span class="line">        <span class="keyword">const</span> filteredLinkList = entry.<span class="property">link_list</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">linkItem</span> =&gt;</span> !blacklist.<span class="title function_">includes</span>(linkItem.<span class="property">name</span>));</span><br><span class="line">        friends = friends.<span class="title function_">concat</span>(filteredLinkList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®è§„å®šçš„æ ¼å¼æ„å»º JSON æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> friendData = &#123;</span><br><span class="line">    <span class="attr">friends</span>: friends.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> [item.<span class="property">name</span>, item.<span class="property">link</span>, item.<span class="property">avatar</span>];</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† JSON å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> friendJSON = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(friendData, <span class="literal">null</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™å…¥ friend.json æ–‡ä»¶</span></span><br><span class="line">fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;./source/friend.json&#x27;</span>, friendJSON);</span><br><span class="line"><span class="comment">//åœ¨æ§åˆ¶å°æç¤º</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;friend.json æ–‡ä»¶å·²ç”Ÿæˆã€‚&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬æ¯æ¬¡æ›´æ–°åšå®¢ï¼Œå°±å¾—å¤šåŠ ä¸€æ¡ï¼Œä¿è¯æ²¡æœ‰å‹é“¾æ¼æ‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node link.js;..... <span class="comment">#...ä¸ºå…¶ä»–æŒ‡ä»¤</span></span><br></pre></td></tr></table></figure>
<p><strong>ç°åœ¨å°±æ›´æ–°ä¸€æ¬¡ï¼Œç¡®ä¿friend.jsonä¸Šä¼ åˆ°äº†ç½‘ç«™é‡Œï¼</strong></p>
<h3 id="åç«¯éƒ¨ç½²"><a href="#åç«¯éƒ¨ç½²" class="headerlink" title="åç«¯éƒ¨ç½²"></a>åç«¯éƒ¨ç½²</h3><p>é¦–å…ˆï¼Œå‰å¾€æ¸…ç¾½çš„ä»“åº“<a href="https://github.com/willow-god/Friend-Circle-Lite">willow-god/Friend-Circle-Lite: ğŸ±ä¸€ä¸ªç²¾ç®€ç‰ˆï¼Œæ— åç«¯ï¼Œä¸”ä»…åˆ©ç”¨github actionè¿è¡Œçš„ç²¾ç®€ç‰ˆå‹é“¾æœ‹å‹åœˆç¨‹åºï¼Œå…¼å®¹fcçš„jsonæ ¼å¼ä¿¡æ¯ï¼ŒåŒæ—¶æ”¯æŒæ¨é€å‹åœˆæ›´æ–°ï¼Œæ”¯æŒä»–äººè®¢é˜…ä¸ªäººç«™ç‚¹å¹¶åœ¨æ›´æ–°æ—¶å‘é€é‚®ç®±æ¨é€</a>æŠŠä»“åº“Forkå¤åˆ¶åˆ°è‡ªå·±çš„è´¦å·ä¸‹ï¼š</p>
<p><img src="https://source-admibrill.pages.dev/file/0457a14794145a11dcbb8.png" alt=""></p>
<p>ç„¶ååˆ°è‡ªå·±çš„è´¦å·é‡Œçš„è¿™ä¸ªä»“åº“ï¼Œæ‰¾åˆ°<code>conf.yml</code></p>
<p><img src="https://source-admibrill.pages.dev/file/16d2402b0ef56f0b5ce19.png" alt=""></p>
<p>ä¿®æ”¹é…ç½®ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># çˆ¬è™«ç›¸å…³é…ç½®</span></span><br><span class="line"><span class="comment"># è§£é‡Šï¼šä½¿ç”¨requestå®ç°å‹é“¾æ–‡ç« çˆ¬å–ï¼Œå¹¶æ”¾ç½®åˆ°æ ¹ç›®å½•çš„all.jsonä¸‹</span></span><br><span class="line"><span class="comment">#   enable:             æ˜¯å¦å¯ç”¨çˆ¬è™«</span></span><br><span class="line"><span class="comment">#   json_url:           è¯·å¡«å†™å¯¹åº”æ ¼å¼jsonçš„åœ°å€ï¼Œä»…æ”¯æŒç½‘ç»œåœ°å€</span></span><br><span class="line"><span class="comment">#   article_count:      è¯·å¡«å†™æ¯ä¸ªåšå®¢éœ€è¦è·å–çš„æœ€å¤§æ–‡ç« æ•°é‡</span></span><br><span class="line"><span class="comment">#   marge_result:       æ˜¯å¦åˆå¹¶å¤šä¸ªjsonæ–‡ä»¶ï¼Œè‹¥ä¸ºtrueåˆ™ä¼šåˆå¹¶æŒ‡å®šç½‘ç»œåœ°å€å’Œæœ¬åœ°åœ°å€çš„jsonæ–‡ä»¶</span></span><br><span class="line"><span class="comment">#     enable:           æ˜¯å¦å¯ç”¨åˆå¹¶åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½æä¾›ä¸è‡ªéƒ¨ç½²çš„å‹é“¾åˆå¹¶åŠŸèƒ½ï¼Œå¯ä»¥è§£å†³æœåŠ¡å™¨éƒ¨åˆ†å›½å¤–ç½‘ç«™æ— æ³•è®¿é—®çš„é—®é¢˜</span></span><br><span class="line"><span class="comment">#     marge_json_path:  è¯·å¡«å†™ç½‘ç»œåœ°å€çš„jsonæ–‡ä»¶ï¼Œç”¨äºåˆå¹¶ï¼Œä¸å¸¦ç©ºæ ¼ï¼ï¼ï¼</span></span><br><span class="line"><span class="attr">spider_settings:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">json_url:</span> <span class="string">&quot;https://blog.qyadbr.top/friend.json&quot;</span> <span class="comment">########ä¸€å®šè¦æ”¹ï¼Œä¸ç„¶æ˜¯æˆ‘çš„ï¼Œæ”¹æˆ&quot;è‡ªå·±çš„ç½‘ç«™/friend.json&quot;</span></span><br><span class="line">  <span class="attr">article_count:</span> <span class="number">15</span></span><br><span class="line">  <span class="attr">merge_result:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">merge_json_url:</span> <span class="string">&quot;https://fc.liushen.fun&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‚®ç®±æ¨é€åŠŸèƒ½é…ç½®ï¼Œæš‚æœªå®ç°ï¼Œç­‰å¾…åç»­å¼€å‘</span></span><br><span class="line"><span class="comment"># è§£é‡Šï¼šæ¯å¤©ä¸ºæŒ‡å®šé‚®ç®±æ¨é€æ‰€æœ‰å‹é“¾æ–‡ç« çš„æ›´æ–°ï¼Œä»…èƒ½æŒ‡å®šä¸€ä¸ª</span></span><br><span class="line"><span class="comment">#   enable:             æ˜¯å¦å¯ç”¨é‚®ç®±æ¨é€åŠŸèƒ½</span></span><br><span class="line"><span class="comment">#   to_email:           æ”¶ä»¶äººé‚®ç®±åœ°å€</span></span><br><span class="line"><span class="comment">#   subject:            é‚®ä»¶ä¸»é¢˜</span></span><br><span class="line"><span class="comment">#   body_template:      é‚®ä»¶æ­£æ–‡çš„ HTML æ¨¡æ¿æ–‡ä»¶</span></span><br><span class="line"><span class="attr">email_push:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>   <span class="comment">########### æˆ‘ä¸éœ€è¦ï¼Œå°±æ²¡æœ‰å¯ç”¨</span></span><br><span class="line">  <span class="attr">to_email:</span> <span class="string">recipient@example.com</span></span><br><span class="line">  <span class="attr">subject:</span> <span class="string">&quot;ä»Šå¤©çš„ RSS è®¢é˜…æ›´æ–°&quot;</span></span><br><span class="line">  <span class="attr">body_template:</span> <span class="string">&quot;rss_template.html&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‚®ç®±issueè®¢é˜…åŠŸèƒ½é…ç½®</span></span><br><span class="line"><span class="comment"># è§£é‡Šï¼šå‘åœ¨issueä¸­æå–çš„æ‰€æœ‰é‚®ç®±æ¨é€æ‚¨ç½‘ç«™ä¸­çš„æ›´æ–°ï¼Œæ·»åŠ é‚®ç®±å’Œåˆ é™¤é‚®ç®±å‡é€šè¿‡æ·»åŠ issueå¯¹åº”æ ¼å¼å®ç°</span></span><br><span class="line"><span class="comment">#   enable:             æ˜¯å¦å¯ç”¨é‚®ç®±æ¨é€åŠŸèƒ½</span></span><br><span class="line"><span class="comment">#   github_username:    GitHub ç”¨æˆ·åï¼Œç”¨äºæ„å»ºissue apiåœ°å€</span></span><br><span class="line"><span class="comment">#   github_repo:        GitHub ä»“åº“åï¼Œç”¨äºæ„å»ºissue apiåœ°å€</span></span><br><span class="line"><span class="comment">#   your_blog_url:      ä½ çš„åšå®¢åœ°å€</span></span><br><span class="line"><span class="attr">rss_subscribe:</span></span><br><span class="line">  <span class="attr">enable:</span>  <span class="literal">false</span> <span class="comment">############ æˆ‘ä¸éœ€è¦ï¼Œå°±æ²¡æœ‰å¯ç”¨</span></span><br><span class="line">  <span class="attr">github_username:</span> <span class="string">willow-god</span></span><br><span class="line">  <span class="attr">github_repo:</span> <span class="string">Friend-Circle-Lite</span></span><br><span class="line">  <span class="attr">your_blog_url:</span> <span class="string">https://blog.qyadbr.top/</span></span><br><span class="line">  <span class="attr">email_template:</span> <span class="string">&quot;./rss_subscribe/email_template.html&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SMTP é…ç½®</span></span><br><span class="line"><span class="comment"># è§£é‡Šï¼šä½¿ç”¨å…¶ä¸­çš„ç›¸å…³é…ç½®å®ç°ä¸Šé¢ä¸¤ç§åŠŸèƒ½ï¼Œè‹¥æ— æ¨é€è¦æ±‚å¯ä»¥ä¸é…ç½®ï¼Œè¯·å°†ä»¥ä¸Šä¸¤ä¸ªé…ç½®ç½®ä¸ºfalse</span></span><br><span class="line"><span class="comment">#   email:              å‘ä»¶äººé‚®ç®±åœ°å€</span></span><br><span class="line"><span class="comment">#   serverï¼š            SMTP æœåŠ¡å™¨åœ°å€</span></span><br><span class="line"><span class="comment">#   portï¼š              SMTP ç«¯å£å·</span></span><br><span class="line"><span class="comment">#   use_tlsï¼š           æ˜¯å¦ä½¿ç”¨ tls åŠ å¯†</span></span><br><span class="line"><span class="attr">smtp:</span></span><br><span class="line">  <span class="attr">email:</span> <span class="number">3162475700</span><span class="string">@qq.com</span></span><br><span class="line">  <span class="attr">server:</span> <span class="string">smtp.qq.com</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">587</span></span><br><span class="line">  <span class="attr">use_tls:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><img src="https://source-admibrill.pages.dev/file/8901ef3ed5250a9a41ada.png" alt=""></p>
<h3 id="ç¬¬ä¸€æ¬¡è¿è¡Œæµ‹è¯•"><a href="#ç¬¬ä¸€æ¬¡è¿è¡Œæµ‹è¯•" class="headerlink" title="ç¬¬ä¸€æ¬¡è¿è¡Œæµ‹è¯•"></a>ç¬¬ä¸€æ¬¡è¿è¡Œæµ‹è¯•</h3><p>æŒ‰å›¾ç¤ºæ“ä½œï¼Œè¿è¡Œworkflowï¼š</p>
<p><img src="https://source-admibrill.pages.dev/file/8babe6f6beed7e37405da.png" alt=""></p>
<p>ç„¶åæˆ‘ä»¬ç‚¹å¼€ä¸€æ¡è®°å½•ï¼ŒæŸ¥çœ‹<code>Check RSS feeds</code></p>
<p><img src="https://source-admibrill.pages.dev/file/3b9b57ffb17f3a68af552.png" alt=""></p>
<p>æœ‰è¿™æ ·çš„è¾“å‡ºå³ä¸ºæ­£å¸¸ã€‚</p>
<h3 id="ä½¿ç”¨cloudflareæ‰˜ç®¡åç«¯"><a href="#ä½¿ç”¨cloudflareæ‰˜ç®¡åç«¯" class="headerlink" title="ä½¿ç”¨cloudflareæ‰˜ç®¡åç«¯"></a>ä½¿ç”¨cloudflareæ‰˜ç®¡åç«¯</h3><p>æŒ‰ç…§å‰é¢cloudflareéƒ¨ç½²çš„æ–¹æ³•ï¼Œéƒ¨ç½²ä¸€ä¸ªåç«¯åœ°å€ã€‚è¿™ä¸ªåœ°å€å°†ä¼šè¢«æˆ‘ä»¬å½“åšåç«¯ã€‚</p>
<h3 id="å‰ç«¯éƒ¨ç½²"><a href="#å‰ç«¯éƒ¨ç½²" class="headerlink" title="å‰ç«¯éƒ¨ç½²"></a>å‰ç«¯éƒ¨ç½²</h3><p>åœ¨<code>Blogroot/source/fcircle/index.md</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼ˆå…¶å®å°±æ˜¯åŠ htmlï¼‰ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;friend-circle-lite-root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="title class_">UserConfig</span> === <span class="string">&#x27;undefined&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> <span class="title class_">UserConfig</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å¡«å†™ä½ çš„fc Liteåœ°å€</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">private_api_url</span>: <span class="string">&#x27;https://fc.liushen.fun/&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ç‚¹å‡»åŠ è½½æ›´å¤šæ—¶ï¼Œä¸€æ¬¡æœ€å¤šåŠ è½½å‡ ç¯‡æ–‡ç« ï¼Œé»˜è®¤20</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">page_turning_number</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å¤´åƒåŠ è½½å¤±è´¥æ—¶ï¼Œé»˜è®¤å¤´åƒåœ°å€</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">error_img</span>: <span class="string">&#x27;https://pic.imgdb.cn/item/6695daa4d9c307b7e953ee3d.jpg&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://fastly.jsdelivr.net/gh/willow-god/Friend-Circle-Lite/main/fclite.min.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://fastly.jsdelivr.net/gh/willow-god/Friend-Circle-Lite/main/fclite.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ok,æœ‹å‹åœˆåŠŸèƒ½åˆ°æ­¤å®Œæˆã€‚</p>
<h2 id="Telegraph-Imageå›¾åºŠ"><a href="#Telegraph-Imageå›¾åºŠ" class="headerlink" title="Telegraph Imageå›¾åºŠ"></a>Telegraph Imageå›¾åºŠ</h2><p>åœ¨å†™åšå®¢çš„æ—¶å€™ï¼Œå¸¸å¸¸éœ€è¦å›¾ç‰‡<del>ï¼ˆæ¯”å¦‚è¯´åˆšæ‰é‚£ä¸ªéƒ¨åˆ†å°±å¼„äº†næ¬¡å›¾ç‰‡ï¼‰</del>ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿è‡ªå·±ï¼Œè‡ªå·±å»ºäº†ä¸ªå›¾åºŠã€‚</p>
<h3 id="éƒ¨ç½²å›¾åºŠ"><a href="#éƒ¨ç½²å›¾åºŠ" class="headerlink" title="éƒ¨ç½²å›¾åºŠ"></a>éƒ¨ç½²å›¾åºŠ</h3><p>é¦–å…ˆè¿˜æ˜¯forkä»“åº“ï¼ˆä¸éœ€è¦å›¾äº†å§ï¼‰ï¼Œ<a href="https://github.com/cf-pages/Telegraph-Image">cf-pages/Telegraph-Image: Image Hosting solution, Flickr/imgur alternative, make it easy for users to share their images. Using Cloudflare Pages and Telegraph. (github.com)</a>ã€‚</p>
<p>ç„¶åæŠŠæŠŠä»“åº“éƒ¨ç½²çš„cloudflareä¸Šï¼ˆä¸éœ€è¦å›¾äº†å§ï¼‰ã€‚</p>
<h3 id="ä½¿ç”¨PicGoæ–¹ä¾¿Typoraä¸Šä¼ å›¾ç‰‡"><a href="#ä½¿ç”¨PicGoæ–¹ä¾¿Typoraä¸Šä¼ å›¾ç‰‡" class="headerlink" title="ä½¿ç”¨PicGoæ–¹ä¾¿Typoraä¸Šä¼ å›¾ç‰‡"></a>ä½¿ç”¨PicGoæ–¹ä¾¿Typoraä¸Šä¼ å›¾ç‰‡</h3><p>ç„¶åä¸‹è½½å®‰è£…PicGoï¼Œè¿›å…¥æ’ä»¶ï¼Œå®‰è£…æ’ä»¶telegraph-image-uploader</p>
<p>è¿›å…¥å›¾åºŠè®¾ç½®</p>
<p><img src="https://source-admibrill.pages.dev/file/74f1f956e5cb8d939db46.png" alt="image-20240829221408459"></p>
<p>è®¾ç½®URLä¸ºä½ çš„å›¾åºŠåœ°å€ï¼Œå°±å¯ä»¥ä½¿ç”¨PicGoä¸Šä¼ å•¦ï¼</p>
<p>æ¥ç€ä½¿ç”¨Markdownç¼–è¾‘å™¨Typora:</p>
<p><img src="https://source-admibrill.pages.dev/file/6ac87f110fed6c040f5e5.png" alt=""></p>
<p>ç°åœ¨æˆªå›¾å¤åˆ¶ç²˜è´´åˆ°Typoraé‡Œå°±å¯ä»¥ä¸Šä¼ äº†ã€‚</p>
<h3 id="ä½¿ç”¨Pythonæ¥åˆ é™¤Typoraåˆ›å»ºçš„ä¸´æ—¶å›¾ç‰‡æ–‡ä»¶"><a href="#ä½¿ç”¨Pythonæ¥åˆ é™¤Typoraåˆ›å»ºçš„ä¸´æ—¶å›¾ç‰‡æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨Pythonæ¥åˆ é™¤Typoraåˆ›å»ºçš„ä¸´æ—¶å›¾ç‰‡æ–‡ä»¶"></a>ä½¿ç”¨Pythonæ¥åˆ é™¤Typoraåˆ›å»ºçš„ä¸´æ—¶å›¾ç‰‡æ–‡ä»¶</h3><p>ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬ç²˜è¿›Typoraçš„æ–‡ä»¶ï¼Œä¼šå…ˆæ”¾åˆ°<code>C:\Users\&lt;username&gt;\AppData\Roaming\Typora\typora-user-images</code>è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œï¼Œä¹…è€Œä¹…ä¹‹ï¼Œæ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤šï¼ŒTyporaå´ä¸è‡ªå·±åˆ é™¤ã€‚äºæ˜¯æˆ‘å†³å®šç”¨Pythonæ¥åˆ é™¤è¿™äº›æ–‡ä»¶ã€‚</p>
<h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><p>åœ¨ä»»æ„ä½ç½®æ–°å»ºä¸€ä¸ª<code>delete.py</code>ï¼Œå†™å…¥å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥åº“ï¼Œæ”¾å¿ƒï¼Œéƒ½æ˜¯Pythonæ ‡å‡†åº“ï¼Œä¸ç”¨pip</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># ç¼–è¾‘é…ç½®</span></span><br><span class="line">username=<span class="string">&#x27;ä¹ä¹&#x27;</span>   <span class="comment">#è¿™æ˜¯æˆ‘ç”µè„‘ç”¨æˆ·åï¼Œéœ€è¦æ”¹æˆè‡ªå·±çš„</span></span><br><span class="line">path=<span class="string">&#x27;C:\\Users\\&#x27;</span>+username+<span class="string">&#x27;\\AppData\\Roaming\\Typora\\typora-user-images\\&#x27;</span>  <span class="comment">#æ£€æŸ¥çš„ç›®å½•</span></span><br><span class="line">checktime=<span class="number">5</span> <span class="comment">#æ¯æ¬¡æ£€æŸ¥æ–°æ–‡ä»¶å’Œåˆ é™¤æ–‡ä»¶çš„é—´éš”æ—¶é—´</span></span><br><span class="line">deltime=<span class="number">50</span>  <span class="comment">#æ¯ä¸ªæ–‡ä»¶å­˜åœ¨å¤§äºå¤šå°‘ç§’å°±è¦åˆ é™¤ï¼Œè¶³ä»¥ç­‰å¾…å›¾ç‰‡ä¸Šä¼ å®Œ</span></span><br><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>: </span><br><span class="line">    listd=os.listdir(path)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> listd:</span><br><span class="line">        <span class="keyword">if</span> time.time()-os.path.getctime(path+i)&gt;deltime:</span><br><span class="line">            os.remove(path+i)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;removed &#x27;</span>+path+i)</span><br><span class="line">    time.sleep(checktime)</span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åˆ°æ­¤hexoå»ºç«™æ•™ç¨‹å°±å®Œç»“äº†ï¼Œ886ï¼</p>
]]></content>
      <categories>
        <category>Hexo</category>
        <category>æ—¥å¸¸è®°å½•</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>å»ºç«™</tag>
        <tag>å…è´¹</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdownä¸å¤–æŒ‚æ ‡ç­¾è¯­æ³•æµ‹è¯•</title>
    <url>/2024/09/15/hexo4/</url>
    <content><![CDATA[<h1 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h1><h2 id="åˆ†çº§æ ‡é¢˜"><a href="#åˆ†çº§æ ‡é¢˜" class="headerlink" title="åˆ†çº§æ ‡é¢˜"></a>åˆ†çº§æ ‡é¢˜</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># ä¸€çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">## äºŒçº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">### ä¸‰çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">#### å››çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">##### äº”çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">###### å…­çº§æ ‡é¢˜ </span></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<p>ä¸ºé˜²æ­¢æ ‡é¢˜å¯¹æœ¬æ–‡ç›®å½•é€ æˆå½±å“ï¼Œè§æœ¬é¡µæ–‡ç« æ ‡é¢˜å¤§å°</p>
<h2 id="å­—ä½“æ ·å¼è®¾ç½®"><a href="#å­—ä½“æ ·å¼è®¾ç½®" class="headerlink" title="å­—ä½“æ ·å¼è®¾ç½®"></a>å­—ä½“æ ·å¼è®¾ç½®</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="strong">**åŠ ç²—**</span></span><br><span class="line"><span class="emphasis">_æ–œä½“_</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span>  &lt;!-- æ³¨é‡Šï¼Œ è¿™é‡Œæ˜¯æ¢è¡Œ--&gt;</span><br><span class="line">~~åˆ é™¤çº¿~~</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š<br><strong>åŠ ç²—</strong><br><em>æ–œä½“</em><br><br>  <!-- æ³¨é‡Šï¼Œ è¿™é‡Œæ˜¯æ¢è¡Œ--><br><del>åˆ é™¤çº¿</del></p>
<h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><h3 id="æ’å…¥ç½‘é¡µé“¾æ¥"><a href="#æ’å…¥ç½‘é¡µé“¾æ¥" class="headerlink" title="æ’å…¥ç½‘é¡µé“¾æ¥"></a>æ’å…¥ç½‘é¡µé“¾æ¥</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">è¿™æ˜¯ä¸€ä¸ªç½‘å€ï¼šhttps://blog.qyadbr.top</span><br><span class="line">è¿™ä¹Ÿæ˜¯ä¸€ä¸ªç½‘å€ï¼š<span class="language-xml">&lt;https://blog.qyadbr.top&gt;</span></span><br><span class="line">[<span class="string">Admibrillçš„åšå®¢</span>](<span class="link">https://blog.qyadbr.top</span>)</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<p>è¿™æ˜¯ä¸€ä¸ªç½‘å€ï¼š<a href="https://blog.qyadbr.top">https://blog.qyadbr.top</a><br>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªç½‘å€ï¼š<a href="https://blog.qyadbr.top">https://blog.qyadbr.top</a><br><a href="https://blog.qyadbr.top">Admibrillçš„åšå®¢</a></p>
<h3 id="æ’å…¥å›¾ç‰‡é“¾æ¥"><a href="#æ’å…¥å›¾ç‰‡é“¾æ¥" class="headerlink" title="æ’å…¥å›¾ç‰‡é“¾æ¥"></a>æ’å…¥å›¾ç‰‡é“¾æ¥</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">![<span class="string">Admibrillçš„å¤´åƒ</span>](<span class="link">https://source-admibrill.pages.dev/file/f69c9c86b22cb90df18a1.png</span>)</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<p><img src="https://source-admibrill.pages.dev/file/f69c9c86b22cb90df18a1.png" alt="Admibrillçš„å¤´åƒ"></p>
<h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="strong">__<span class="emphasis">_</span></span></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<hr>
<h2 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h2><h3 id="è¡Œå†…ä»£ç å—"><a href="#è¡Œå†…ä»£ç å—" class="headerlink" title="è¡Œå†…ä»£ç å—"></a>è¡Œå†…ä»£ç å—</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">`abc`</span></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœ:<br><code>abc</code></p>
<h3 id="æ•´æ®µä»£ç å—"><a href="#æ•´æ®µä»£ç å—" class="headerlink" title="æ•´æ®µä»£ç å—"></a>æ•´æ®µä»£ç å—</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">```markdown</span></span><br><span class="line"><span class="code">ä½ å¥½</span></span><br><span class="line"><span class="code">(ä¸ºäº†æ˜¾ç¤ºè¿™ä¸‰ä¸ª`æ·»åŠ äº†è¿™ä¸ªæ‹¬å·å’Œè¿™ä¸ªæ‹¬å·å†…çš„å†…å®¹)```</span></span><br></pre></td></tr></table></figure>
<p>æ•ˆæœ<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">ä½ å¥½</span><br></pre></td></tr></table></figure><br>2.6 å¼•ç”¨<br><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="quote">&gt; æœ‰å¿—è€…,</span></span><br><span class="line"><span class="quote">&gt; äº‹ç«Ÿæˆ.</span></span><br></pre></td></tr></table></figure><br>æ•ˆæœï¼š</p>
<blockquote>
<p>æœ‰å¿—è€…,<br>äº‹ç«Ÿæˆ.</p>
</blockquote>
<h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><h3 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">-</span> ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">-</span> ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<ul>
<li>ç¬¬ä¸€é¡¹</li>
<li>ç¬¬äºŒé¡¹</li>
<li>ç¬¬ä¸‰é¡¹<h3 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">2.</span> ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">3.</span> ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure>
æ•ˆæœï¼š</li>
</ul>
<ol>
<li>ç¬¬ä¸€é¡¹</li>
<li>ç¬¬äºŒé¡¹</li>
<li>ç¬¬ä¸‰é¡¹</li>
</ol>
<h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">è¡¨å¤´1|è¡¨å¤´2|è¡¨å¤´3</span><br><span class="line">---|---|---</span><br><span class="line">å†…å®¹|å†…å®¹|å†…å®¹</span><br><span class="line">å†…å®¹|å†…å®¹|å†…å®¹</span><br><span class="line">å†…å®¹|å†…å®¹|å†…å®¹</span><br><span class="line">å†…å®¹|å†…å®¹|å†…å®¹</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>è¡¨å¤´1</th>
<th>è¡¨å¤´2</th>
<th>è¡¨å¤´3</th>
</tr>
</thead>
<tbody>
<tr>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
</tr>
<tr>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
</tr>
<tr>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
</tr>
<tr>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
<td>å†…å®¹</td>
</tr>
</tbody>
</table>
</div>
<h1 id="å¤–æŒ‚æ ‡ç­¾"><a href="#å¤–æŒ‚æ ‡ç­¾" class="headerlink" title="å¤–æŒ‚æ ‡ç­¾"></a>å¤–æŒ‚æ ‡ç­¾</h1><p><a href="https://www.fomal.cc/posts/2013454d.html">https://www.fomal.cc/posts/2013454d.html</a></p>
]]></content>
      <categories>
        <category>ä»£ç è¯­æ³•</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
        <tag>æµ‹è¯•</tag>
        <tag>å¤–æŒ‚æ ‡ç­¾</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå·±åŠ¨æ‰‹å†™äºŒç»´ç‰©ç†å¼•æ“ï¼ˆé›¶ï¼‰</title>
    <url>/2024/09/28/hexo5/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><h2 id="ä¸ºä»€ä¹ˆè¦å†™ç‰©ç†å¼•æ“"><a href="#ä¸ºä»€ä¹ˆè¦å†™ç‰©ç†å¼•æ“" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å†™ç‰©ç†å¼•æ“"></a>ä¸ºä»€ä¹ˆè¦å†™ç‰©ç†å¼•æ“</h2><p>å…¶å®åœ¨å¾ˆä¹…ä»¥å‰å°±ç”¨è¿‡åˆ«äººçš„ç‰©ç†å¼•æ“äº†ï¼Œå¯æ˜¯è¿™äº›å¼•æ“çš„åŠŸèƒ½ä¸æ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œæ¯”å¦‚è¯´ä¸æ”¯æŒæµä½“çš„è¿åŠ¨ï¼Œä»¥åŠå®ç°æŠŠä¸€ä¸ªç‰©ä½“åˆ‡å‰²æˆä¸¤éƒ¨åˆ†ç­‰ï¼Œè¿˜å¯ä»¥åˆ¶é€ ç‡ƒçƒ§ï¼Œçˆ†ç‚¸ç­‰æ•ˆæœï¼Œåˆ«äººçš„ç‰©ç†å¼•æ“éƒ½æ²¡æœ‰ã€‚æ‰€ä»¥æˆ‘å†³å®šè‡ªå·±å…ˆç”¨pythonå†™ä¸€æ¬¾ç‰©ç†å¼•æ“ï¼Œåé¢å†å†™æˆJavaScriptæ¥å®ç°ç½‘é¡µä¸Šçš„æ•ˆæœã€‚</p>
<p>æœ¬æ–‡çš„ç¼–å·æ˜¯é›¶ï¼Œæ„æ€æ˜¯è¿™æ˜¯å†™ç‰©ç†å¼•æ“å‰çš„å‡†å¤‡å·¥ä½œã€‚</p>
<h2 id="ç‰©ç†å¼•æ“çš„ç»“æ„"><a href="#ç‰©ç†å¼•æ“çš„ç»“æ„" class="headerlink" title="ç‰©ç†å¼•æ“çš„ç»“æ„"></a>ç‰©ç†å¼•æ“çš„ç»“æ„</h2><p>ç»„æˆç‰©ç†å¼•æ“çš„æ˜¯çª—å£ï¼ˆWindowï¼‰ï¼ŒåŠ›ï¼ˆForceï¼‰ï¼Œç‰©ä½“ï¼ˆObjectï¼‰å’Œæ•ˆæœï¼ˆEffectï¼‰ã€‚</p>
<p>çª—å£å°±æ˜¯ä¸€ä¸ªç‰©ç†åœºï¼Œå®ƒè®°å½•äº†å¾ˆå¤šç‰©ç†å¸¸é‡ï¼ˆå¦‚é‡åŠ›åŠ é€Ÿåº¦ç­‰ï¼‰</p>
<p>åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯ç‰©ä½“çš„è½½ä½“ï¼Œå¯ä»¥æ§åˆ¶ç‰©ä½“æ˜¯å¦èƒ½è·‘åˆ°çª—å£å¤–é¢å»ã€‚</p>
<p>åŠ›å¯ä»¥ä½¿ç‰©ä½“è¿åŠ¨ã€‚ä¼šè€ƒè™‘é‡åŠ›ã€å¼•åŠ›ã€æµ®åŠ›ç­‰ã€‚</p>
<p>ç‰©ä½“åˆ†ä¸ºä¸‰ç§ï¼šåˆšä½“ï¼ˆsolidï¼‰ã€æµä½“ï¼ˆliquidï¼‰ã€å’Œå…³èŠ‚ï¼ˆjointï¼‰</p>
<blockquote>
<p>åˆšä½“æ˜¯æŒ‡åœ¨è¿åŠ¨ä¸­å’Œå—åŠ›ä½œç”¨åï¼Œå½¢çŠ¶å’Œå¤§å°ä¸å˜ï¼Œè€Œä¸”å†…éƒ¨å„ç‚¹çš„ç›¸å¯¹ä½ç½®ä¸å˜çš„ç‰©ä½“ã€‚</p>
</blockquote>
<p>åˆšä½“å¯ä»¥åˆ†ä¸ºçº¿æ®µï¼ˆsegmentï¼‰çƒä½“ï¼ˆå…¶å®å°±æ˜¯ä¸€ä¸ªåœ†ï¼Œcircleï¼‰å’Œå¤šè¾¹å½¢ï¼ˆpolygonï¼‰ã€‚</p>
<p>æ¯ä¸ªåˆšä½“éƒ½ä¼šè€ƒè™‘ç¢°æ’ã€‚</p>
<p>æµä½“åˆ†ä¸ºç‰›é¡¿æµä½“å’Œéç‰›é¡¿æµä½“ã€‚</p>
<p>å…³èŠ‚å¯ä»¥çº¦æŸä¸¤ä¸ªåˆšä½“ï¼Œå¯ä»¥ä¼¸ç¼©ã€‚</p>
<p>æ•ˆæœåˆ™åŒ…å«åŠˆè£‚ã€ç‡ƒçƒ§ç­‰</p>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ–°å»ºæ–‡ä»¶"><a href="#æ–°å»ºæ–‡ä»¶" class="headerlink" title="æ–°å»ºæ–‡ä»¶"></a>æ–°å»ºæ–‡ä»¶</h2><p>åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹æ–°å»º<code>physics.py</code>å’Œ<code>demo.py</code>ã€‚<code>physics.py</code>ä½¿æˆ‘ä»¬çš„ç‰©ç†å¼•æ“ã€‚<code>demo.py</code>åˆ™ç”¨æ¥æµ‹è¯•</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>physics.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">from</span> pygame.<span class="built_in">locals</span> <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">pygame.init()</span><br><span class="line"><span class="comment"># pygame.draw.circle(window, (0, 0, 255),[300,300], 170, 0)</span></span><br><span class="line"><span class="comment"># pygame.draw.polygon(window, (255,0,0), [[300,300],[100,400],[100,300]])</span></span><br><span class="line"><span class="comment"># pygame.draw.line(window, (0, 0, 0), [100, 300], [500, 300], 5)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Window</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,width,height,caption</span>):</span><br><span class="line">        <span class="variable language_">self</span>.width=width</span><br><span class="line">        <span class="variable language_">self</span>.height=height</span><br><span class="line">        <span class="variable language_">self</span>.caption=caption</span><br><span class="line">        <span class="variable language_">self</span>.surface=pygame.display.set_mode((<span class="variable language_">self</span>.width,<span class="variable language_">self</span>.height))</span><br><span class="line">        <span class="variable language_">self</span>.bodies=[]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        pygame.display.set_caption(<span class="variable language_">self</span>.caption)</span><br><span class="line">        flag=<span class="literal">True</span></span><br><span class="line">        <span class="keyword">while</span> flag:</span><br><span class="line">            pygame.display.update()</span><br><span class="line">            <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">                <span class="keyword">if</span> event.<span class="built_in">type</span> == QUIT:</span><br><span class="line">                    pygame.quit()</span><br><span class="line">                    flag=<span class="literal">False</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Object</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solid</span>(<span class="title class_ inherited__">Object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Liquid</span>(<span class="title class_ inherited__">Object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Joint</span>(<span class="title class_ inherited__">Object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>demo.py</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> physics</span><br><span class="line">window1=physics.Window(<span class="number">1000</span>,<span class="number">600</span>,<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line">window1.run()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç‰©ç†å¼•æ“</category>
      </categories>
      <tags>
        <tag>ç‰©ç†å¼•æ“</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸŸåè¿ç§»åˆ°blog.qyadbr.top</title>
    <url>/2024/10/04/hexo6/</url>
    <content><![CDATA[<p>ä¹‹å‰æœ‰ä¸€ä¸ªcloudflareå…è´¹äºŒçº§åŸŸå<code>admibrill1.pages.dev</code>ã€‚</p>
<p>äºŒçº§åŸŸåå°±æ˜¯äºŒçº§åŸŸåï¼Œæœ‰å¾ˆå¤šé™åˆ¶ï¼ŒåŠ ä¸ªå‹é“¾éƒ½æˆé—®é¢˜ã€‚ä»å…«æœˆå¼€å§‹å°±æƒ³ä¹°äº†ï¼Œä½†æ˜¯æˆ‘è‡ªå·±ä¹°ä¸äº†ï¼Œæ²¡æœ‰æ¡ä»¶ã€‚</p>
<p>ç­‰åˆ°9æœˆ21æ—¥ï¼ˆCSP-J/Sç¬¬ä¸€è½®ï¼‰å®Œæˆï¼Œ30æ—¥å‡ºæˆç»©ï¼Œæ€»ç®—èƒ½ä¹°äº†ï¼Œå°±å»é˜¿é‡Œäº‘ä¹°äº†ä¸€ä¸ªã€‚</p>
<p>ç°åœ¨ï¼Œæœ‰äº†å…¨æ–°çš„åŸŸå<code>blog.qyadbr.top</code>,<code>qyadbr.top</code>åŸŸåä¸‹é¢ä¹‹åä¼šåšå¾ˆå¤šæœåŠ¡ã€‚</p>
<p>æ‹œæ‹œï¼</p>
]]></content>
      <categories>
        <category>æ—¥å¸¸è®°å½•</category>
      </categories>
      <tags>
        <tag>æ—¥å¸¸è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå·±åŠ¨æ‰‹å†™ä¸‰ç»´å¼•æ“ï¼ˆä¸€ï¼‰</title>
    <url>/2024/11/24/hexo8/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€è¿‘æ¯”è¾ƒå¿™ï¼Œæ‰€ä»¥å¾ˆä¹…æ²¡æ›´æ–°ã€‚</p>
<p>ä¹‹å‰ç©è¿‡å¾ˆå¤šä¸‰ç»´æ²™ç›’æ¸¸æˆï¼Œä½†æ˜¯å¾ˆå¥½å¥‡æ˜¯å¦‚ä½•å®ç°é‚£ç§ä¸‰ç»´æŠ•å°„çš„</p>
<p>äºæ˜¯æœ€è¿‘å†™å‡ºæ¥äº†ä¸€ä¸ªä¸‰ç»´å¼•æ“</p>
<h1 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h1><p>æˆ‘è¿˜æ˜¯ç”¨çš„qtï¼ˆè‡ªä»ç”¨qtå°±å‘ç°çˆ±ä¸Šqtäº†ï¼‰å»å®ç°æ‰“å¼€çª—å£ã€ç”»çº¿ç­‰åŠŸèƒ½ï¼Œä½†æ˜¯qtè‡ªå¸¦çš„ä¸‰ç»´æ”¯æŒæˆ‘ä¸ç”¨ã€‚</p>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>å¯¼å…¥åº“ã€åˆ›å»ºqtåº”ç”¨ã€åˆ›å»ºç©ºé—´å¯¹è±¡ï¼Œéƒ½ä¸å¤šè¯´ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QWidget,QApplication</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QPainter,QColor,QPen,QCursor</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QTimer,Qt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Space</span>():</span><br><span class="line">Â  Â  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">Â  Â  Â  Â  <span class="variable language_">self</span>.objects=[]</span><br><span class="line">qapp=QApplication([])</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run</span>():</span><br><span class="line">Â  Â  qapp.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>
<h2 id="ç‚¹å¯¹è±¡å’Œç›¸æœºå¯¹è±¡"><a href="#ç‚¹å¯¹è±¡å’Œç›¸æœºå¯¹è±¡" class="headerlink" title="ç‚¹å¯¹è±¡å’Œç›¸æœºå¯¹è±¡"></a>ç‚¹å¯¹è±¡å’Œç›¸æœºå¯¹è±¡</h2><p>ç»„æˆå›¾å½¢çš„åŸºæœ¬å…ƒç´ æ˜¯ç‚¹ã€‚ä¸ºäº†æ–¹ä¾¿æè¿°ä¸‰ç»´ç©ºé—´åæ ‡ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç‚¹å¯¹è±¡ã€‚<br>åŒæ—¶ï¼Œéœ€è¦ä¸€ä¸ªç›¸æœºï¼Œç‚¹ä¼šæŠ•å°„åˆ°ç›¸æœºä¸Š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span>():</span><br><span class="line">Â  Â  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x,y,z</span>):</span><br><span class="line">Â  Â  Â  Â  <span class="variable language_">self</span>.x=x</span><br><span class="line">Â  Â  Â  Â  <span class="variable language_">self</span>.y=y</span><br><span class="line">Â  Â  Â  Â  <span class="variable language_">self</span>.z=z</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Camera</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,space,wwidth,wheight,caption,cwidth,cheight,cdeepth</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.resize(wwidth,wheight)<span class="comment">#çª—å£å®½é«˜</span></span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(caption)<span class="comment">#çª—å£æ ‡é¢˜</span></span><br><span class="line">        <span class="variable language_">self</span>.space=space <span class="comment">#ç›¸æœºæ‰€åœ¨çš„ç©ºé—´</span></span><br><span class="line">        <span class="variable language_">self</span>.movement=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>] <span class="comment">#ç›¸æœºè¯•è¯•ç§»åŠ¨æ–¹å‘</span></span><br><span class="line">        <span class="variable language_">self</span>.rotatex=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.rotatey=<span class="number">90</span></span><br><span class="line">        <span class="variable language_">self</span>.rotatez=<span class="number">0</span> <span class="comment">#ç›¸æœºæ—‹è½¬è§’åº¦</span></span><br><span class="line">        <span class="variable language_">self</span>.posx=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.posy=<span class="number">0</span> </span><br><span class="line">        <span class="variable language_">self</span>.posz=<span class="number">0</span> <span class="comment">#ç›¸æœºçš„ä½ç½®</span></span><br><span class="line">        <span class="variable language_">self</span>.controled=<span class="literal">True</span> <span class="comment">#é¼ æ ‡æ˜¯å¦æ§åˆ¶</span></span><br><span class="line">        <span class="variable language_">self</span>.movespeed=<span class="number">1</span> <span class="comment">#ç§»é€Ÿ</span></span><br><span class="line">        <span class="variable language_">self</span>.setCursor(Qt.CursorShape.BlankCursor)</span><br><span class="line">        <span class="variable language_">self</span>.objects2D=[]</span><br><span class="line">        <span class="variable language_">self</span>.cwidth=cwidth   </span><br><span class="line">        <span class="variable language_">self</span>.cheight=cheight  <span class="comment">#ç›¸æœºå®½é«˜</span></span><br><span class="line">        <span class="variable language_">self</span>.cdeepth=cdeepth   <span class="comment">#ç›¸æœºè§†é”¥æ·±åº¦</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">launch</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.timer=QTimer()</span><br><span class="line">        <span class="variable language_">self</span>.timer.start(<span class="number">5</span>)</span><br><span class="line">        <span class="variable language_">self</span>.timer.timeout.connect(<span class="variable language_">self</span>.update)</span><br><span class="line">        <span class="variable language_">self</span>.show()</span><br></pre></td></tr></table></figure>
<h3 id="æŠ•å°„"><a href="#æŠ•å°„" class="headerlink" title="æŠ•å°„"></a>æŠ•å°„</h3><p>è¿™æ˜¯æ•´ä¸ªä¸‰ç»´æŠ•å½±ä¸­æœ€å…³é”®çš„ä¸€ç‚¹ã€‚</p>
<p><img src="https://s1.imagehub.cc/images/2024/11/24/aedd57047163cacfb51e36e33511af97.png" alt=""></p>
<p>å¯è§ï¼Œ$\triangle OAE \sim \triangle OFD$, $OA$æ˜¯ç›¸æœºæ·±åº¦ï¼ŒDæ˜¯æˆ‘ä»¬è¦æŠ•å°„çš„ç‚¹ ï¼ŒOæ˜¯ç›¸æœºçš„ä½ç½®ï¼Œæ±‚å‡ºBEå°±å¯ä»¥æ±‚å‡ºEç‚¹çš„ä½ç½®ï¼Œå³æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„ä½ç½®ã€‚</p>
<p>ä»ä¸Šé¢çœ‹ï¼ˆxåæ ‡ï¼‰å’Œä»å³è¾¹çœ‹ï¼ˆyåæ ‡ï¼‰è¿™å¼ å›¾éƒ½é€‚ç”¨ã€‚</p>
<p>ä½†æ˜¯è¦è€ƒè™‘ç›¸æœºä¼šæ—‹è½¬è§’åº¦çš„é—®é¢˜ã€‚ä¸å¦¨å°†ç›¸æœºåˆ°æŠ•å°„çš„ç‚¹çœ‹ä½œä¸€ä¸ªå‘é‡ã€‚</p>
<p>å‡è®¾ç›¸æœºä½ç½®ä¸º$(a<em>{x},a</em>{y},a<em>{z})$,æŠ•å°„çš„ç‚¹çš„ä½ç½®ä¸º$(c</em>{x},c<em>{y},c</em>{z})$,ç›¸æœºé•¿$w$ï¼Œå®½$h$ï¼Œæ·±$d$</p>
<p>å…ˆè®¡ç®—å‘é‡æ—‹è½¬åçš„æ–°å‘é‡ï¼š</p>
<script type="math/tex; mode=display">
\begin{bmatrix}
d_{x}  \\
d_{y}  \\ 
d_{z}
\end{bmatrix}
=
\begin{bmatrix} 
1 & 0 & 0 \\
0 & \cos (\theta_{x}) &\sin(\theta_{x}) \\
0 & -\sin(\theta_{x})& \cos(\theta_{x})
\end{bmatrix} 
\begin{bmatrix}
\cos(\theta_{y}) &0 & -\sin(\theta_{y}) \\
0 & 1& 0 \\
\sin(\theta_{y})& 0 & \cos(\theta_{y})
\end{bmatrix}
\begin{bmatrix} 
\cos(\theta_{z})&\sin(\theta_{z})& 0 \\
-\sin(\theta_{z})&\cos(\theta_{z})&0 \\
0&0&1
\end{bmatrix}
\begin{bmatrix}
a_{x}-c_{x} \\
a_{y}-c_{y} \\
a_{z}-c_{z}
\end{bmatrix}</script><p>åˆ©ç”¨ç›¸ä¼¼ä¸‰è§’å½¢å¯¹åº”è¾¹æˆæ¯”ä¾‹ï¼Œå¾—ï¼š</p>
<script type="math/tex; mode=display">
x=\frac{w}{2}-\frac{d}{d_{z}}d_{x}</script><script type="math/tex; mode=display">
y=\frac{h}{2}-\frac{d}{d_{z}}d_{y}</script><p>å› æ­¤æˆ‘ä»¬æœ‰äº†ä»£ç ï¼š<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Point():</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">project</span>(<span class="params">self,camera</span>):</span><br><span class="line">        cx, cy, cz = camera.posx, camera.posy, camera.posz</span><br><span class="line">        thx, thy, thz = -camera.rotatex, camera.rotatey, camera.rotatez</span><br><span class="line">        x = <span class="variable language_">self</span>.x - cx</span><br><span class="line">        y = <span class="variable language_">self</span>.y - cy</span><br><span class="line">        z = <span class="variable language_">self</span>.z - cz</span><br><span class="line">        dx = math.cos(thy)*(math.sin(thz)*y+math.cos(thz)*x)-math.sin(thy)*z</span><br><span class="line">        dy = math.sin(thx)*(math.cos(thy)*z+math.sin(thy)*(math.sin(thz)*y+math.cos(thz)*x))+\</span><br><span class="line">            math.cos(thx)*(math.cos(thz)*y-math.sin(thz)*x)</span><br><span class="line">        dz = math.cos(thx)*(math.cos(thy)*z+math.sin(thy)*(math.sin(thz)*y+math.cos(thz)*x))-\</span><br><span class="line">            math.sin(thx)*(math.cos(thz)*y-math.sin(thz)*x)</span><br><span class="line">        newx= camera.cwidth/<span class="number">2</span>-(camera.cdeepth/dz) * dx</span><br><span class="line">        newy= camera.cheight/<span class="number">2</span>-(camera.cdeepth/dz) * dy </span><br><span class="line">        <span class="keyword">if</span> camera.width()/camera.height()&gt;camera.cwidth/camera.cheight:</span><br><span class="line">            rectw=camera.height()/camera.cheight*camera.cwidth</span><br><span class="line">            resultx=camera.width()/<span class="number">2</span>-rectw/<span class="number">2</span>+newx/camera.cwidth*rectw</span><br><span class="line">            resulty=newy/camera.cheight*camera.height()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            recth=camera.width()/camera.cwidth*camera.cheight</span><br><span class="line">            resultx=newx/camera.cwidth*camera.width()</span><br><span class="line">            resulty=camera.height()/<span class="number">2</span>-recth/<span class="number">2</span>+newy/camera.cheight*recth</span><br><span class="line">        <span class="keyword">return</span> resultx,resulty,dz&gt;<span class="number">0</span><span class="comment">#å½“dz&lt;=0æ—¶ï¼Œå³æŠ•å½±çš„ç‚¹åœ¨ç›¸æœºçš„åé¢æ—¶ï¼ŒæŠ•å°„çš„ä½ç½®ä¸æ­£ç¡®ï¼Œéœ€è¦ç‰¹åˆ¤å¤„ç†</span></span><br></pre></td></tr></table></figure></p>
<h2 id="çº¿æ®µ"><a href="#çº¿æ®µ" class="headerlink" title="çº¿æ®µ"></a>çº¿æ®µ</h2><p>è¿æ¥ä¸¤ä¸ªç‚¹çš„æ˜¯çº¿æ®µã€‚å°†ä¸€ä¸ªçº¿æ®µæŠ•å½±ä¹‹åçº¿æ®µè¿˜æ˜¯ç›´çš„ï¼Œæ‰€ä»¥åªéœ€è¿æ¥ä¸¤ä¸ªæŠ•å½±åçš„ç«¯ç‚¹å³å¯å¾—åˆ°æŠ•å½±åçš„çº¿æ®µã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Segment</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,point1,point2</span>):</span><br><span class="line">        <span class="variable language_">self</span>.point1=point1</span><br><span class="line">        <span class="variable language_">self</span>.point2=point2</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">paint</span>(<span class="params">self,camera</span>):</span><br><span class="line">        x1,y1,m1=<span class="variable language_">self</span>.point1.project(camera)</span><br><span class="line">        x2,y2,m2=<span class="variable language_">self</span>.point2.project(camera)</span><br><span class="line">        <span class="keyword">if</span> m1&gt;<span class="number">0</span> <span class="keyword">and</span> m2&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x1,y1,x2,y2</span><br><span class="line">        <span class="keyword">elif</span> m1&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x1,y1,<span class="number">2</span>*x1-x2,<span class="number">2</span>*y1-y2</span><br><span class="line">        <span class="keyword">elif</span> m2&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span>*x2-x1,<span class="number">2</span>*y2-y1,x2,y2  <span class="comment">#è¿™ä¸¤éƒ½æ˜¯å°†æŠ•å½±é”™è¯¯çš„ç«¯ç‚¹ç»•ç€æ­£ç¡®çš„ç«¯ç‚¹æ—‹è½¬180åº¦ï¼Œå³ä¸­å¿ƒå¯¹ç§°</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span> <span class="comment">#å½“ä¸¤ä¸ªç«¯ç‚¹éƒ½åœ¨åé¢ï¼Œè¯´æ˜è¿™æ¡çº¿æ®µåœ¨æ‘„åƒæœºåé¢ï¼Œå› æ­¤ä¸ç”¨æ˜¾ç¤º</span></span><br></pre></td></tr></table></figure>
<h2 id="ç›¸æœºçš„æ§åˆ¶"><a href="#ç›¸æœºçš„æ§åˆ¶" class="headerlink" title="ç›¸æœºçš„æ§åˆ¶"></a>ç›¸æœºçš„æ§åˆ¶</h2><h4 id="ç›‘å¬é”®ç›˜"><a href="#ç›‘å¬é”®ç›˜" class="headerlink" title="ç›‘å¬é”®ç›˜"></a>ç›‘å¬é”®ç›˜</h4><p>ç”¨WSADé”®ç§»åŠ¨ï¼Œåå¼•å·é”®ï¼ˆEscä¸‹é¢é‚£ä¸ªï¼‰å‘¼å‡ºå‘¼å…¥é¼ æ ‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Camera(QWidget):</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">keyPressEvent</span>(<span class="params">self, event</span>):</span><br><span class="line">        <span class="keyword">if</span> event.key()==Qt.Key.Key_W:</span><br><span class="line">            <span class="variable language_">self</span>.movement[<span class="number">0</span>]=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> event.key()==Qt.Key.Key_S:</span><br><span class="line">            <span class="variable language_">self</span>.movement[<span class="number">0</span>]=-<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> event.key()==Qt.Key.Key_A:</span><br><span class="line">            <span class="variable language_">self</span>.movement[<span class="number">2</span>]=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> event.key()==Qt.Key.Key_D:</span><br><span class="line">            <span class="variable language_">self</span>.movement[<span class="number">2</span>]=-<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> event.key()==Qt.Key.Key_Space:</span><br><span class="line">            <span class="variable language_">self</span>.movement[<span class="number">1</span>]=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> event.key()==Qt.Key.Key_Shift:</span><br><span class="line">            <span class="variable language_">self</span>.movement[<span class="number">1</span>]=-<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> event.key()==Qt.Key.Key_QuoteLeft:</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.controled:</span><br><span class="line">                <span class="variable language_">self</span>.setCursor(Qt.CursorShape.ArrowCursor)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="variable language_">self</span>.setCursor(Qt.CursorShape.BlankCursor)</span><br><span class="line">            <span class="variable language_">self</span>.controled=<span class="keyword">not</span> <span class="variable language_">self</span>.controled</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">keyReleaseEvent</span>(<span class="params">self,event</span>):</span><br><span class="line">        <span class="variable language_">self</span>.movement=[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h4 id="è¿›è¡Œç§»åŠ¨å’Œæ—‹è½¬æ“ä½œ"><a href="#è¿›è¡Œç§»åŠ¨å’Œæ—‹è½¬æ“ä½œ" class="headerlink" title="è¿›è¡Œç§»åŠ¨å’Œæ—‹è½¬æ“ä½œ"></a>è¿›è¡Œç§»åŠ¨å’Œæ—‹è½¬æ“ä½œ</h4><p>åˆšåˆšå·²ç»æ”¹å˜äº†<code>self.movement</code>çš„å€¼ï¼Œç°åœ¨åªéœ€è¦æ ¹æ®å€¼æ¥ç§»åŠ¨ç›¸æœºï¼Œå¦‚æœé¼ æ ‡å·²é”ä½ï¼ŒåŒæ—¶ç”¨é¼ æ ‡åˆ°çª—å£æ­£ä¸­å¿ƒçš„åç§»æ¥æ—‹è½¬ç›¸æœºï¼Œç„¶åæŠŠé¼ æ ‡çš„ä½ç½®è®¾ç½®åˆ°ç”»é¢æ­£ä¸­å¿ƒã€‚</p>
<p>å½“<code>QWidget.update()</code>è¢«æ‰§è¡Œæ—¶ï¼Œå°±ä¼šæ‰§è¡Œ<code>paintEvent()</code>ï¼Œé‡å†™è¿™ä¸ªå‡½æ•°å°±å¯ä»¥å®ç°é‡å¤æ‰§è¡Œã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Camera(QWidget):</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">paintEvent</span>(<span class="params">self,event</span>):</span><br><span class="line">        <span class="variable language_">self</span>.posx+= <span class="variable language_">self</span>.movement[<span class="number">0</span>]*math.sin(<span class="variable language_">self</span>.rotatey)*<span class="variable language_">self</span>.movespeed*<span class="number">0.01</span></span><br><span class="line">        <span class="variable language_">self</span>.posx+= <span class="variable language_">self</span>.movement[<span class="number">2</span>]*math.sin(<span class="variable language_">self</span>.rotatey+math.radians(<span class="number">90</span>))*<span class="variable language_">self</span>.movespeed*<span class="number">0.01</span></span><br><span class="line">        <span class="variable language_">self</span>.posy+= <span class="variable language_">self</span>.movement[<span class="number">1</span>]*<span class="variable language_">self</span>.movespeed*<span class="number">0.01</span></span><br><span class="line">        <span class="variable language_">self</span>.posz+= <span class="variable language_">self</span>.movement[<span class="number">0</span>]*math.cos(<span class="variable language_">self</span>.rotatey)*<span class="variable language_">self</span>.movespeed*<span class="number">0.01</span></span><br><span class="line">        <span class="variable language_">self</span>.posz+= <span class="variable language_">self</span>.movement[<span class="number">2</span>]*math.cos(<span class="variable language_">self</span>.rotatey+math.radians(<span class="number">90</span>))*<span class="variable language_">self</span>.movespeed*<span class="number">0.01</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.controled:</span><br><span class="line">            centerx=<span class="variable language_">self</span>.geometry().center().x()</span><br><span class="line">            centery=<span class="variable language_">self</span>.geometry().center().y()</span><br><span class="line">            mousex=QCursor.pos().x()</span><br><span class="line">            mousey=QCursor.pos().y()</span><br><span class="line">            offsetx=centerx-mousex</span><br><span class="line">            offsety=centery-mousey</span><br><span class="line">            <span class="variable language_">self</span>.rotatex+=offsety*<span class="number">0.001</span> </span><br><span class="line">            <span class="variable language_">self</span>.rotatex=<span class="built_in">min</span>(math.radians(<span class="number">90</span>),<span class="variable language_">self</span>.rotatex)</span><br><span class="line">            <span class="variable language_">self</span>.rotatex=<span class="built_in">max</span>(math.radians(-<span class="number">90</span>),<span class="variable language_">self</span>.rotatex)<span class="comment">#ç»•xè½´æ—‹è½¬çš„æé™</span></span><br><span class="line">            <span class="variable language_">self</span>.rotatey+=offsetx*<span class="number">0.001</span></span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.rotatey&gt;math.radians(<span class="number">180</span>):</span><br><span class="line">                <span class="variable language_">self</span>.rotatey-=math.radians(<span class="number">360</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.rotatey&lt;math.radians(-<span class="number">180</span>):</span><br><span class="line">                <span class="variable language_">self</span>.rotatey+=math.radians(<span class="number">360</span>) <span class="comment">#ç»•yè½´æ—‹è½¬å¤„ç†</span></span><br><span class="line">            QCursor.setPos(<span class="variable language_">self</span>.geometry().center())</span><br></pre></td></tr></table></figure>
<h2 id="å¤šé¢ä½“"><a href="#å¤šé¢ä½“" class="headerlink" title="å¤šé¢ä½“"></a>å¤šé¢ä½“</h2><p>å°†çº¿æ®µç›¸æ¥ï¼Œå¾—åˆ°å¤šé¢ä½“ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Body</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,space,vertixes,edges</span>):</span><br><span class="line">        <span class="variable language_">self</span>.vertixes=vertixes</span><br><span class="line">        <span class="variable language_">self</span>.edges=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> edges:</span><br><span class="line">            <span class="variable language_">self</span>.edges.append(Segment(Point(*(vertixes[i[<span class="number">0</span>]])),Point(*(vertixes[i[<span class="number">1</span>]]))))</span><br><span class="line">        <span class="variable language_">self</span>.space=space</span><br><span class="line">        <span class="variable language_">self</span>.space.objects.append(<span class="variable language_">self</span>)</span><br></pre></td></tr></table></figure>
<h3 id="çŸ©ä½“"><a href="#çŸ©ä½“" class="headerlink" title="çŸ©ä½“"></a>çŸ©ä½“</h3><p>çŸ©ä½“æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¤šé¢ä½“ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cubold</span>(<span class="title class_ inherited__">Body</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,space,x,y,z,length,width,height</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(space,[[x,y,z],[x+length,y,z],[x,y,z+width],[x+length,y,z+height],</span><br><span class="line">                    [x,y+height,z],[x+length,y+height,z],[x,y+height,z+width],[x+length,y+height,z+length]],<span class="comment">#æè¿°é¡¶ç‚¹åæ ‡</span></span><br><span class="line">                    [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">2</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="number">5</span>,<span class="number">7</span>],[<span class="number">6</span>,<span class="number">4</span>],[<span class="number">7</span>,<span class="number">6</span>],[<span class="number">0</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">6</span>],[<span class="number">3</span>,<span class="number">7</span>]])<span class="comment">#è¿æ£±</span></span><br></pre></td></tr></table></figure>
<h2 id="å¹³é¢æ–‡å­—"><a href="#å¹³é¢æ–‡å­—" class="headerlink" title="å¹³é¢æ–‡å­—"></a>å¹³é¢æ–‡å­—</h2><p>æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œä½†æ˜¯è®¾ç½®äº†ä¸€ä¸ªæ›´æ–°æ—¶ä¼šæ‰§è¡Œçš„å‡½æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Text2D</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,camera,x,y,content</span>) :</span><br><span class="line">        <span class="variable language_">self</span>.x=x</span><br><span class="line">        <span class="variable language_">self</span>.y=y</span><br><span class="line">        <span class="variable language_">self</span>.camera=camera</span><br><span class="line">        <span class="variable language_">self</span>.content=content</span><br><span class="line">        <span class="variable language_">self</span>.camera.objects2D.append(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">camera</span>):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="variable language_">self</span>.updatefunc=update</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setText</span>(<span class="params">self,content</span>):</span><br><span class="line">        <span class="variable language_">self</span>.content=content</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUpdate</span>(<span class="params">self,func</span>):</span><br><span class="line">        <span class="variable language_">self</span>.updatefunc=func</span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ–°ç›¸æœºç”»é¢"><a href="#æ›´æ–°ç›¸æœºç”»é¢" class="headerlink" title="æ›´æ–°ç›¸æœºç”»é¢"></a>æ›´æ–°ç›¸æœºç”»é¢</h2><p>æŠŠå½“å‰ç›¸æœºæ‰€åœ¨ç©ºé—´ä¸­çš„æ¯ä¸€ä¸ªå¤šé¢ä½“çš„æ¯ä¸€æ¡æ£±ç”»å‡ºæ¥ï¼ŒåŒæ—¶ä¹Ÿä¹Ÿè¦å†™æ–‡å­—ï¼Œæ‰§è¡Œæ–‡å­—æ›´æ–°æ˜¯çš„é‚£ä¸ªå‡½æ•°</p>
<p>ä½¿ç”¨<code>QPainter</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Camera(QWidget):</span></span><br><span class="line"><span class="comment">#   def paintEvent(self,event):</span></span><br><span class="line">		painter = QPainter(<span class="variable language_">self</span>)</span><br><span class="line">        color=QColor()</span><br><span class="line">        color.setRgb(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>)</span><br><span class="line">        pen=QPen()</span><br><span class="line">        pen.setColor(color)</span><br><span class="line">        painter.setPen(pen)</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.controled:</span><br><span class="line">            painter.drawLine(<span class="variable language_">self</span>.width()/<span class="number">2</span>-<span class="number">2</span>,<span class="variable language_">self</span>.height()/<span class="number">2</span>,<span class="variable language_">self</span>.width()/<span class="number">2</span>+<span class="number">2</span>,<span class="variable language_">self</span>.height()/<span class="number">2</span>)</span><br><span class="line">            painter.drawLine(<span class="variable language_">self</span>.width()/<span class="number">2</span>,<span class="variable language_">self</span>.height()/<span class="number">2</span>-<span class="number">2</span>,<span class="variable language_">self</span>.width()/<span class="number">2</span>,<span class="variable language_">self</span>.height()/<span class="number">2</span>+<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable language_">self</span>.space.objects:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> i.edges:</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    x1,y1,x2,y2=j.paint(<span class="variable language_">self</span>)</span><br><span class="line">                    painter.drawLine(x1,y1,x2,y2)</span><br><span class="line">                <span class="keyword">except</span>:</span><br><span class="line">                    <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable language_">self</span>.objects2D:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(i,Text2D):</span><br><span class="line">                painter.drawText(i.x,i.y,i.content)</span><br><span class="line">            i.updatefunc(<span class="variable language_">self</span>)</span><br></pre></td></tr></table></figure>
<h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>æˆ‘æŠŠè¿™ä¸ªæ–‡ä»¶å«åš<code>threedengine.py</code>ã€‚åŒæ—¶å»ºäº†ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶<code>demo.py</code>ã€‚</p>
<h2 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> threedengine</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">space=threedengine.Space()</span><br><span class="line">camera=threedengine.Camera(space,<span class="number">1000</span>,<span class="number">500</span>,<span class="string">&#x27;ä¸‰ç»´è§†å›¾&#x27;</span>,<span class="number">800</span>,<span class="number">400</span>,<span class="number">300</span>)</span><br><span class="line">camera.launch()</span><br><span class="line">body=threedengine.Cubold(space,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">text=threedengine.Text2D(camera,<span class="number">10</span>,<span class="number">10</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">camera</span>):</span><br><span class="line">    text.setText(<span class="string">&#x27;ä½ç½®ï¼š(%f,%f,%f) æ–¹å‘ï¼š%fÂ° ä¿¯ä»°ï¼š%fÂ°&#x27;</span>%(camera.posx,camera.posy,camera.posz,math.degrees(camera.rotatey),math.degrees(camera.rotatex)))</span><br><span class="line">text.setUpdate(update)</span><br><span class="line">threedengine.run()</span><br></pre></td></tr></table></figure>
<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://s1.imagehub.cc/images/2024/11/24/33885258cb2ec9febc7db99b45a1715d.png" alt="image"></p>
<p>åˆ°è¿™é‡Œè¿™ç¯‡æ–‡ç« å°±ç»“æŸäº†ï¼Œ886ï¼</p>
]]></content>
      <categories>
        <category>ä¸‰ç»´å¼•æ“</category>
      </categories>
      <tags>
        <tag>ä¸‰ç»´å¼•æ“</tag>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå·±åŠ¨æ‰‹å†™äºŒç»´ç‰©ç†å¼•æ“ï¼ˆä¸€ï¼‰</title>
    <url>/2024/10/20/hexo7/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¿™ä¸€ç¯‡ï¼Œç»§ç»­ä¹‹å‰çš„æƒ³æ³•ï¼Œå¼€å§‹å†™ç‰©ç†å¼•æ“çš„ä»£ç ã€‚</p>
<p>ç”±äº<strong>pygameä¸èƒ½åŒæ—¶æ‰“å¼€å¤šä¸ªçª—å£</strong>ï¼Œæˆ‘å†³å®šæ¢<strong>Qt</strong>æ¥æ˜¾ç¤ºçª—å£ã€‚</p>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å¯¼å…¥åº“"><a href="#å¯¼å…¥åº“" class="headerlink" title="å¯¼å…¥åº“"></a>å¯¼å…¥åº“</h2><p>æ‰“å¼€<code>physics.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6 <span class="keyword">import</span> * </span><br><span class="line"><span class="keyword">import</span> math</span><br></pre></td></tr></table></figure>
<ul>
<li><code>PySide6</code>ï¼šè¿™æ˜¯Qtå®˜æ–¹çš„PyQt6çš„åº“ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨å®ƒæ¥å®ç°çª—å£ä»¥åŠå†…å®¹çš„æ˜¾ç¤ºã€‚</li>
<li><code>math</code>ï¼šPythonæ•°å­¦åº“ï¼Œç”¨æ¥å¤„ç†ä¸€äº›é«˜çº§çš„ç‰©ç†è®¡ç®—ã€‚</li>
</ul>
<h2 id="å…¨å±€å¸¸é‡"><a href="#å…¨å±€å¸¸é‡" class="headerlink" title="å…¨å±€å¸¸é‡"></a>å…¨å±€å¸¸é‡</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DYMANIC=<span class="number">0</span></span><br><span class="line">STATIC=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>è¿™äº›å¸¸é‡å®šä¹‰äº†ç‰©ä½“çš„çŠ¶æ€ç­‰ä¿¡æ¯ï¼Œåå­¦ä¼šæœ‰æ›´å¤šå¸¸é‡å†™åœ¨è¿™é‡Œã€‚</p>
<h2 id="Qtåº”ç”¨ç¨‹åº"><a href="#Qtåº”ç”¨ç¨‹åº" class="headerlink" title="Qtåº”ç”¨ç¨‹åº"></a>Qtåº”ç”¨ç¨‹åº</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">qapp=QtWidgets.QApplication([])</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run</span>():</span><br><span class="line">    qapp.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>
<p>ä¹‹ååœ¨<code>demo.py</code>ä¸­è¿è¡Œ<code>physics.run()</code>å³å¯è¿è¡Œåº”ç”¨ç¨‹åºã€‚</p>
<h1 id="ç‰©ç†ç©ºé—´"><a href="#ç‰©ç†ç©ºé—´" class="headerlink" title="ç‰©ç†ç©ºé—´"></a>ç‰©ç†ç©ºé—´</h1><p>ç¼–å†™ä¸€ä¸ª<code>Space(QtWidegets.QWidget)</code>ç±»æ¥æ¨¡æ‹Ÿä¸€ä¸ªç‰©ç†ç©ºé—´ï¼Œè¿™å°†è¢«æ˜¾ç¤ºä¸ºä¸€ä¸ªçª—å£ã€‚</p>
<h2 id="å®ä¾‹åŒ–"><a href="#å®ä¾‹åŒ–" class="headerlink" title="å®ä¾‹åŒ–"></a>å®ä¾‹åŒ–</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Space</span>(QtWidgets.QWidget):	</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,width,height,caption,g</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.width=width</span><br><span class="line">        <span class="variable language_">self</span>.height=height</span><br><span class="line">        <span class="variable language_">self</span>.caption=caption</span><br><span class="line">        <span class="variable language_">self</span>.objects=[]</span><br><span class="line">        <span class="variable language_">self</span>.g=g</span><br><span class="line">        <span class="variable language_">self</span>.timer = QtCore.QTimer()</span><br></pre></td></tr></table></figure>
<ul>
<li><code>width</code>ï¼šçª—å£çš„å®½åº¦</li>
<li><code>height</code>ï¼šçª—å£çš„é«˜åº¦</li>
<li><code>caption</code>ï¼šçª—å£çš„æ ‡é¢˜</li>
<li><code>objects</code>ï¼šç‰©ç†ç©ºé—´ä¸­æ‰€æœ‰ç‰©ä½“åˆ—è¡¨</li>
<li><code>g</code>ï¼šé‡åŠ›åŠ é€Ÿåº¦ï¼ˆå¸¸é‡ï¼‰</li>
<li><code>timer</code>ï¼šä½¿ç”¨qtè®¡æ—¶å™¨ï¼Œç”¨æ¥å®šæ—¶è¿è¡Œä¸€äº›å‡½æ•°</li>
</ul>
<h2 id="å¯åŠ¨çª—å£"><a href="#å¯åŠ¨çª—å£" class="headerlink" title="å¯åŠ¨çª—å£"></a>å¯åŠ¨çª—å£</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Space(QtWidgets.QWidget):	</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">launch</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="variable language_">self</span>.width,<span class="variable language_">self</span>.height)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="variable language_">self</span>.caption)</span><br><span class="line">        <span class="variable language_">self</span>.timer.start(<span class="number">5</span>)</span><br><span class="line">        <span class="variable language_">self</span>.timer.timeout.connect(<span class="variable language_">self</span>.moveObjects)</span><br><span class="line">        <span class="variable language_">self</span>.timer.timeout.connect(<span class="variable language_">self</span>.update)</span><br><span class="line">        <span class="variable language_">self</span>.show()</span><br></pre></td></tr></table></figure>
<p>è¯¥å‡½æ•°å¯ä»¥ä½¿ç‰©ç†ç©ºé—´çª—å£å¼¹å‡ºå¹¶åˆå§‹åŒ–ã€‚</p>
<h2 id="ç§»åŠ¨ä¸ç»˜åˆ¶"><a href="#ç§»åŠ¨ä¸ç»˜åˆ¶" class="headerlink" title="ç§»åŠ¨ä¸ç»˜åˆ¶"></a>ç§»åŠ¨ä¸ç»˜åˆ¶</h2><p>ä¸€ä¸ªä½¿çª—å£ç§»åŠ¨ï¼Œå¹¶åˆ¶é€ é‡åŠ›ï¼Œå¦ä¸€ä¸ªç»˜åˆ¶ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Space(QtWidgets.QWidget):</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">moveObjects</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable language_">self</span>.objects:</span><br><span class="line">            <span class="keyword">if</span> i.stype==DYMANIC:</span><br><span class="line">                gravity=Force(<span class="variable language_">self</span>.g,math.pi/<span class="number">2</span>)</span><br><span class="line">                i.forceCompound(gravity)</span><br><span class="line">                i.move()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">paintEvent</span>(<span class="params">self,event</span>):</span><br><span class="line">        painter = QtGui.QPainter(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable language_">self</span>.objects:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(i,Circle):</span><br><span class="line">                painter.setPen(i.pen)</span><br><span class="line">                painter.drawEllipse(i.cpoint,i.r,i.r)</span><br><span class="line">                painter.drawLine(i.cpoint.x(),i.cpoint.y(),</span><br><span class="line">                              i.cpoint.x()+i.r*math.cos(i.direction),i.cpoint.y()+i.r*math.sin(i.direction))</span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">isinstance</span>(i,Segment):</span><br><span class="line">                painter.setPen(i.pen)</span><br><span class="line">                painter.drawLine(i.x1,i.y1,i.x2,i.y2)</span><br></pre></td></tr></table></figure>
<h1 id="åŠ›ä¸ç‰©ä½“å¯¹è±¡"><a href="#åŠ›ä¸ç‰©ä½“å¯¹è±¡" class="headerlink" title="åŠ›ä¸ç‰©ä½“å¯¹è±¡"></a>åŠ›ä¸ç‰©ä½“å¯¹è±¡</h1><h2 id="åŠ›"><a href="#åŠ›" class="headerlink" title="åŠ›"></a>åŠ›</h2><p>åŠ›æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>å‘é‡</strong>ï¼Œåªæœ‰ä¸¤ä¸ªæˆå‘˜ï¼šæ–¹å‘å’Œå¤§å°ã€‚</p>
<p>ç‰¹åˆ«æ³¨æ„ï¼Œæ‰€æœ‰çš„è§’å•ä½éƒ½ç”¨å¼§åº¦ï¼ˆ$\pi\space \text{rad}=180^{\circ}$ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Force</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,size,angle</span>):</span><br><span class="line">        <span class="variable language_">self</span>.size=size</span><br><span class="line">        <span class="variable language_">self</span>.angle=angle</span><br></pre></td></tr></table></figure>
<h2 id="ç‰©ä½“å¯¹è±¡"><a href="#ç‰©ä½“å¯¹è±¡" class="headerlink" title="ç‰©ä½“å¯¹è±¡"></a>ç‰©ä½“å¯¹è±¡</h2><p>ç‰©ä½“å¯¹è±¡æœ‰å¾ˆå¤šç§ï¼Œå¦‚åˆšä½“ã€æµä½“ã€å…³èŠ‚</p>
<h3 id="å®ä¾‹åŒ–-1"><a href="#å®ä¾‹åŒ–-1" class="headerlink" title="å®ä¾‹åŒ–"></a>å®ä¾‹åŒ–</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Object</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,z,window,color,mass,angle</span>):</span><br><span class="line">        <span class="variable language_">self</span>.z=z</span><br><span class="line">        <span class="variable language_">self</span>.window=window</span><br><span class="line">        <span class="variable language_">self</span>.window.objects.append(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.color=QtGui.QColor()</span><br><span class="line">        <span class="variable language_">self</span>.color.setRgb(color[<span class="number">0</span>],color[<span class="number">1</span>],color[<span class="number">2</span>])</span><br><span class="line">        <span class="variable language_">self</span>.mass=mass</span><br><span class="line">        <span class="variable language_">self</span>.velocity=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.angle=angle</span><br></pre></td></tr></table></figure>
<ul>
<li><code>z</code>ï¼šå±‚åæ ‡ï¼Œ<code>z</code>ä¸åŒçš„ä¸¤ä¸ªå…ƒç´ ä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚</li>
<li><code>window</code>ï¼šæ‰€åœ¨çš„çª—å£</li>
<li><code>color</code>ï¼šå¯¹è±¡æ˜¾ç¤ºçš„é¢œè‰²</li>
<li><code>mass</code>ï¼šå¯¹è±¡çš„è´¨é‡</li>
<li><code>velocity</code>ï¼šè¿åŠ¨é€Ÿåº¦</li>
<li><code>angle</code>ï¼šè¿åŠ¨æ–¹å‘</li>
</ul>
<h3 id="äººä¸ºæ–½åŠ›"><a href="#äººä¸ºæ–½åŠ›" class="headerlink" title="äººä¸ºæ–½åŠ›"></a>äººä¸ºæ–½åŠ›</h3><p><img src="https://image.qyadbr.top/file/97ff9678655c516d94095-c862322cf153358e6a.png" alt="image-20241020192920919"></p>
<p>å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸‰è§’å‡½æ•°æŠŠç‰©ä½“å½“å‰çš„æ–¹å‘å’Œé€Ÿåº¦åˆ†è§£ä¸ºæ°´å¹³æ–¹å‘ä¸Šçš„é€Ÿåº¦å’Œå‚ç›´æ–¹å‘ä¸Šçš„é€Ÿåº¦ï¼Œå¯¹æ–½åŠ çš„åŠ›ä½œåŒæ ·çš„å¤„ç†ï¼Œå°†æ°´å¹³å’Œå‚ç›´çš„åˆ†åˆ«ç›¸åŠ å†è½¬æ¢ä¸ºæ–°çš„é€Ÿåº¦å’Œè§’åº¦å°±å¯ä»¥å®ç°äººä¸ºæ–½åŠ›ã€‚</p>
<p>äºæ˜¯åˆäº†ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Object():</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">forceCompound</span>(<span class="params">self,add_force</span>):</span><br><span class="line">        cur_force_size=<span class="variable language_">self</span>.velocity</span><br><span class="line">        cur_force_dx=cur_force_size*math.cos(<span class="variable language_">self</span>.angle)+add_force.size*math.cos(add_force.angle)/<span class="variable language_">self</span>.mass</span><br><span class="line">        cur_force_dy=cur_force_size*math.sin(<span class="variable language_">self</span>.angle)+add_force.size*math.sin(add_force.angle)/<span class="variable language_">self</span>.mass</span><br><span class="line">        <span class="variable language_">self</span>.velocity=math.sqrt(cur_force_dx**<span class="number">2</span>+cur_force_dy**<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> cur_force_dx&gt;=<span class="number">0</span>:</span><br><span class="line">            <span class="variable language_">self</span>.angle=math.atan(cur_force_dy/cur_force_dx)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.angle=math.atan(cur_force_dy/cur_force_dx)+math.pi</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤å¯¹è±¡"><a href="#åˆ é™¤å¯¹è±¡" class="headerlink" title="åˆ é™¤å¯¹è±¡"></a>åˆ é™¤å¯¹è±¡</h3><p>æŠŠå¯¹è±¡ç§»é™¤ï¼Œä¸å¤šèµ˜è¿°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Object():</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">destroy</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.window.objects.remove(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.window=<span class="literal">None</span></span><br><span class="line">        <span class="keyword">del</span> <span class="variable language_">self</span></span><br></pre></td></tr></table></figure>
<h1 id="åˆšä½“"><a href="#åˆšä½“" class="headerlink" title="åˆšä½“"></a>åˆšä½“</h1><p>ç›®å‰å…ˆå®ç°åœ†ã€çº¿æ®µã€‚ä¹‹åä¼šå®ç°å¤šè¾¹å½¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solid</span>(<span class="title class_ inherited__">Object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,z,window,color,stype,mass,angle,direction</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(z,window,color,mass,angle)</span><br><span class="line">        <span class="variable language_">self</span>.stype=stype</span><br><span class="line">        <span class="variable language_">self</span>.direction=direction</span><br><span class="line">        <span class="variable language_">self</span>.pen = QtGui.QPen(<span class="variable language_">self</span>.color)</span><br><span class="line">        <span class="variable language_">self</span>.pen.setWidth(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>(<span class="title class_ inherited__">Solid</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,window,z,x,y,r,direction,stype,mass,angle=<span class="number">0</span>,color=(<span class="params"><span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span></span>)</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(z,window,color,stype,mass,angle,direction)</span><br><span class="line">        <span class="variable language_">self</span>.cpoint=QtCore.QPointF(x,y)</span><br><span class="line">        <span class="variable language_">self</span>.r=r</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">move</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.cpoint.setX(<span class="variable language_">self</span>.cpoint.x()+<span class="variable language_">self</span>.velocity*math.cos(<span class="variable language_">self</span>.angle))</span><br><span class="line">        <span class="variable language_">self</span>.cpoint.setY(<span class="variable language_">self</span>.cpoint.y()+<span class="variable language_">self</span>.velocity*math.sin(<span class="variable language_">self</span>.angle))</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hit</span>(<span class="params">self,c</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Segment</span>(<span class="title class_ inherited__">Solid</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,window,z,x1,y1,x2,y2,direction,stype,mass,angle=<span class="number">0</span>,color=(<span class="params"><span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span></span>)</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(z,window,color,stype,mass,angle,direction)</span><br><span class="line">        <span class="variable language_">self</span>.x1=x1</span><br><span class="line">        <span class="variable language_">self</span>.y1=y1</span><br><span class="line">        <span class="variable language_">self</span>.x2=x2</span><br><span class="line">        <span class="variable language_">self</span>.y2=y2</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">move</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.x1+=<span class="variable language_">self</span>.velocity*math.cos(<span class="variable language_">self</span>.angle)</span><br><span class="line">        <span class="variable language_">self</span>.y1+=<span class="variable language_">self</span>.velocity*math.sin(<span class="variable language_">self</span>.angle)</span><br><span class="line">        <span class="variable language_">self</span>.x2+=<span class="variable language_">self</span>.velocity*math.cos(<span class="variable language_">self</span>.angle)</span><br><span class="line">        <span class="variable language_">self</span>.y2+=<span class="variable language_">self</span>.velocity*math.sin(<span class="variable language_">self</span>.angle)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hit</span>(<span class="params">self,c</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h2 id="angleä¸directionçš„åŒºåˆ«"><a href="#angleä¸directionçš„åŒºåˆ«" class="headerlink" title="angleä¸directionçš„åŒºåˆ«"></a><code>angle</code>ä¸<code>direction</code>çš„åŒºåˆ«</h2><p><code>angle</code>æ˜¯æŒ‡è¿åŠ¨æ–¹å‘ã€‚è€Œ<code>direction</code>æ˜¯åªç‰©ä½“æœ¬èº«çš„æœå‘ã€‚</p>
<h1 id="æ•ˆæœæµ‹è¯•"><a href="#æ•ˆæœæµ‹è¯•" class="headerlink" title="æ•ˆæœæµ‹è¯•"></a>æ•ˆæœæµ‹è¯•</h1><p><code>demo.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> physics</span><br><span class="line"></span><br><span class="line">window1=physics.Space(<span class="number">1000</span>,<span class="number">600</span>,<span class="string">&#x27;123&#x27;</span>,<span class="number">9.8</span>)</span><br><span class="line">window1.launch()</span><br><span class="line">circle1=physics.Circle(window1,<span class="number">0</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">40</span>,<span class="number">0</span>,physics.DYMANIC,<span class="number">1000</span>)</span><br><span class="line">force1=physics.Force(<span class="number">1000</span>,<span class="number">0</span>)</span><br><span class="line">circle1.forceCompound(force1)</span><br><span class="line">segment1=physics.Segment(window1,<span class="number">0</span>,<span class="number">50</span>,<span class="number">550</span>,<span class="number">950</span>,<span class="number">550</span>,<span class="number">0</span>,physics.STATIC,<span class="number">1000</span>)</span><br><span class="line">physics.run()</span><br></pre></td></tr></table></figure>
<p><img src="https://image.qyadbr.top/file/cb091da5c9e4ad39451f3-b40670a181745f9d8a.gif" alt="21-24-31"></p>
<h1 id="ä¸‹æœŸé¢„å‘Š"><a href="#ä¸‹æœŸé¢„å‘Š" class="headerlink" title="ä¸‹æœŸé¢„å‘Š"></a>ä¸‹æœŸé¢„å‘Š</h1><p>ä¸‹ä¸€æœŸä¼šå®ç°å¤šè¾¹å½¢ä»¥åŠç¢°æ’æ£€æµ‹ã€‚886ï¼</p>
]]></content>
      <categories>
        <category>ç‰©ç†å¼•æ“</category>
      </categories>
      <tags>
        <tag>ç‰©ç†å¼•æ“</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨Qtå®ç°ä¸€ä¸ªç®€æ˜“æ—¶é’Ÿåº”ç”¨</title>
    <url>/2024/12/08/hexo9/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æˆ‘ä½¿ç”¨Qtåˆ¶ä½œäº†ä¸€ä¸ªæ—¶é’Ÿåº”ç”¨ï¼Œç°åœ¨æ¥åˆ†äº«ä¸€ä¸‹å®ç°çš„è¿‡ç¨‹ã€‚</p>
<p>è¿™ä¸ªå°é¡¹ç›®åŒ…æ‹¬äº†å››ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>æ—¶é’Ÿï¼ˆæ˜¾ç¤ºå½“å‰æ—¶é—´ï¼‰</li>
<li>ç§’è¡¨ï¼ˆæ­£å‘è®¡æ—¶å™¨ï¼Œæ”¯æŒè®°å½•æ—¶é—´ï¼‰</li>
<li>å€’è®¡æ—¶</li>
<li>é—¹é’Ÿ</li>
</ul>
<h1 id="å„ç§å‡†å¤‡å·¥ä½œ"><a href="#å„ç§å‡†å¤‡å·¥ä½œ" class="headerlink" title="å„ç§å‡†å¤‡å·¥ä½œ"></a>å„ç§å‡†å¤‡å·¥ä½œ</h1><h2 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h2><p>åˆ¶ä½œè¿™ä¸ªåº”ç”¨ï¼Œæˆ‘ä½¿ç”¨äº†ä¸€å¤§å †<code>QtWidgets</code>ç»„ä»¶ã€‚åŒæ—¶ï¼Œè¿˜æœ‰è‡³å…³é‡è¦çš„<code>time</code>æ¨¡å—ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> (QApplication,QWidget,QPushButton,QGroupBox,QLabel,</span><br><span class="line">                                QTableWidget,QTableWidgetItem,QProgressBar,QScrollArea,</span><br><span class="line">				                QDialog,QGridLayout,QVBoxLayout,QHBoxLayout,QSpinBox,QLineEdit,QComboBox,QSystemTrayIcon,QCheckBox)</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QIcon,QFont</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QObject,QTimer,Qt,QSize</span><br><span class="line"><span class="keyword">import</span> time</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œå»ºç«‹ä¸€ä¸ª<code>QApplication</code>ï¼Œå®šä¹‰ä¸€äº›å¸¸é‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">qapp=QApplication([])</span><br><span class="line">icon=QIcon(<span class="string">&#x27;../media/images/1.png&#x27;</span>) <span class="comment">#çª—å£å›¾æ ‡</span></span><br><span class="line">widgetslist=[] <span class="comment">#æ¯ä¸ªæ¨¡å¼å¯¹åº”ä¸€ä¸ªçª—æ ¼</span></span><br><span class="line">musicUrlList=[<span class="string">&#x27;../media/audio/1.wav&#x27;</span>] <span class="comment">#é—¹é“ƒéŸ³ä¹</span></span><br><span class="line">musicNameList=[<span class="string">&#x27;éŸ³ä¹1&#x27;</span>] <span class="comment">#éŸ³ä¹åç§°</span></span><br><span class="line"></span><br><span class="line">menubuttonnamelist=[<span class="string">&#x27;æ—¶é’Ÿ&#x27;</span>,<span class="string">&#x27;ç§’è¡¨&#x27;</span>,<span class="string">&#x27;å€’è®¡æ—¶&#x27;</span>,<span class="string">&#x27;é—¹é’Ÿ&#x27;</span>]</span><br><span class="line">menubuttonlist=[]</span><br><span class="line">mode=<span class="number">0</span> <span class="comment">#å½“å‰çš„æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸‹é¢è¿™æ®µæ°¸è¿œæ”¾åœ¨æœ€å</span></span><br><span class="line">qapp.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>
<h2 id="å»ºç«‹çª—å£"><a href="#å»ºç«‹çª—å£" class="headerlink" title="å»ºç«‹çª—å£"></a>å»ºç«‹çª—å£</h2><p>å»ºç«‹ä¸€ä¸ªç±»ï¼Œç»§æ‰¿<code>QtWidgets.QWidget</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Window</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,width,height,title,icon</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(QObject.tr(title))</span><br><span class="line">        <span class="variable language_">self</span>.resize(width,height)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowIcon(icon)</span><br></pre></td></tr></table></figure>
<p>å®ä¾‹åŒ–çª—å£å¯¹è±¡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">mainWindow=Window(<span class="number">1000</span>,<span class="number">600</span>,<span class="string">&#x27;æ—¶é’Ÿ&#x27;</span>,icon)</span><br><span class="line">mainWindow.show()</span><br></pre></td></tr></table></figure>
<h2 id="åŠŸèƒ½çª—æ ¼ä¸åˆ‡æ¢æŒ‰é’®"><a href="#åŠŸèƒ½çª—æ ¼ä¸åˆ‡æ¢æŒ‰é’®" class="headerlink" title="åŠŸèƒ½çª—æ ¼ä¸åˆ‡æ¢æŒ‰é’®"></a>åŠŸèƒ½çª—æ ¼ä¸åˆ‡æ¢æŒ‰é’®</h2><p>æˆ‘åœ¨çª—å£å·¦ä¾§åšäº†å››ä¸ªæŒ‰é’®ï¼Œåˆ†åˆ«å¯¹åº”å››ç§åŠŸèƒ½ã€‚ç‚¹å‡»æŒ‰é’®å°±å¯ä»¥åˆ‡æ¢çª—æ ¼çš„æ˜¾ç¤ºçŠ¶æ€ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰æŒ‰é’®ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MenuButton</span>(<span class="title class_ inherited__">QPushButton</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,parent,num</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.num=num</span><br><span class="line">        <span class="variable language_">self</span>.clicked.connect(<span class="variable language_">self</span>.toggleMode)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">toggleMode</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">global</span> mode</span><br><span class="line">        widgetslist[mode].hide()</span><br><span class="line">        widgetslist[<span class="variable language_">self</span>.num].show()</span><br><span class="line">        mode=<span class="variable language_">self</span>.num</span><br><span class="line"><span class="comment">#æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(menubuttonnamelist)):</span><br><span class="line">    button=MenuButton(mainWindow,i)</span><br><span class="line">    button.setText(menubuttonnamelist[i])</span><br><span class="line">    button.move(<span class="number">10</span>,<span class="number">10</span>+i*<span class="number">30</span>)</span><br><span class="line">    button.show()</span><br><span class="line">    menubuttonlist.append(button)</span><br><span class="line">    group=QGroupBox(parent=mainWindow,title=menubuttonnamelist[i])</span><br><span class="line">    group.resize(<span class="number">890</span>,<span class="number">580</span>)</span><br><span class="line">    group.move(<span class="number">100</span>,<span class="number">10</span>)</span><br><span class="line">    widgetslist.append(group)</span><br></pre></td></tr></table></figure>
<h2 id="çª—æ ¼å°ºå¯¸è‡ªé€‚åº”"><a href="#çª—æ ¼å°ºå¯¸è‡ªé€‚åº”" class="headerlink" title="çª—æ ¼å°ºå¯¸è‡ªé€‚åº”"></a>çª—æ ¼å°ºå¯¸è‡ªé€‚åº”</h2><p>å½“ç¼©æ”¾çª—å£æ—¶ï¼Œçª—æ ¼çš„å¤§å°ä¸ä¼šæ”¹å˜ï¼Œå› æ­¤æˆ‘ä»¬è¦è‡ªåŠ¨è®¾ç½®çª—æ ¼çš„å°ºå¯¸ã€‚</p>
<p>åœ¨<code>Qt</code>ä¸­ï¼Œ<code>QWidget</code>è¢«ç¼©æ”¾å¤§å°å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ<code>resizeEvent</code>å‡½æ•°ï¼Œé‡å†™å…¶å†…å®¹å³å¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Window(QWidget):</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">resizeEvent</span>(<span class="params">self,event</span>):</span><br><span class="line">        size=<span class="variable language_">self</span>.size()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> widgetslist:</span><br><span class="line">            i.resize(size.width()-<span class="number">110</span>,size.height()-<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<h1 id="æ—¶é—´æ˜¾ç¤º"><a href="#æ—¶é—´æ˜¾ç¤º" class="headerlink" title="æ—¶é—´æ˜¾ç¤º"></a>æ—¶é—´æ˜¾ç¤º</h1><p>è¿™æ˜¯æ•´ä¸ªé¡¹ç›®æœ€æœ€ç®€å•çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">nowtime=time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)</span><br><span class="line">labelTime=QLabel(widgetslist[<span class="number">0</span>])</span><br><span class="line">font=QFont(<span class="string">&#x27;Arian&#x27;</span>,<span class="number">100</span>,<span class="number">10</span>)</span><br><span class="line">labelTime.setFont(font)</span><br><span class="line">labelTime.setText(nowtime)</span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ–°æ˜¾ç¤º"><a href="#æ›´æ–°æ˜¾ç¤º" class="headerlink" title="æ›´æ–°æ˜¾ç¤º"></a>æ›´æ–°æ˜¾ç¤º</h2><p>é™¤äº†åˆ·æ–°æ—¶é—´ï¼Œè¿˜è®¾ç½®äº†çª—å£è‡ªé€‚åº”</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">update</span>():</span><br><span class="line">    size1_1=widgetslist[<span class="number">0</span>].size()</span><br><span class="line">    nowtime=time.strftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>)</span><br><span class="line">    labelTime.setText(nowtime)</span><br><span class="line">    labelTime.move(size1_1.width()/<span class="number">2</span>-size2.width()/<span class="number">2</span>,size1_1.height()/<span class="number">2</span>-size2.height()/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">timer=QTimer()</span><br><span class="line">timer.start(<span class="number">0.05</span>)</span><br><span class="line">timer.timeout.connect(update)</span><br></pre></td></tr></table></figure>
<h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://s1.imagehub.cc/images/2024/12/03/5eb951eea3aace8e6aee72c6a5ba299b.png" alt="image"></p>
<h1 id="æ­£å‘è®¡æ—¶å™¨"><a href="#æ­£å‘è®¡æ—¶å™¨" class="headerlink" title="æ­£å‘è®¡æ—¶å™¨"></a>æ­£å‘è®¡æ—¶å™¨</h1><p>è¿™æ˜¯ç¬¬äºŒä¸ªåŠŸèƒ½ï¼Œéœ€è¦å®ç°ä¸€ä¸ªå¯ä»¥å¼€å§‹ã€æš‚åœçš„è®¡æ—¶å™¨ï¼Œè®¡æ—¶çŠ¶æ€ä¸‹å¯ä»¥è®°å½•ï¼Œéè®¡æ—¶çŠ¶æ€ä¸‹å¯ä»¥æ¸…é›¶ã€‚</p>
<h2 id="åˆ›å»ºç»„ä»¶"><a href="#åˆ›å»ºç»„ä»¶" class="headerlink" title="åˆ›å»ºç»„ä»¶"></a>åˆ›å»ºç»„ä»¶</h2><p>å®ç°å®ƒï¼Œéœ€è¦ä¸€ä¸ªæ–‡æœ¬æ˜¾ç¤ºï¼Œä¸‰ä¸ªæŒ‰é’®ï¼Œä»¥åŠä¸€ä¸ªè¡¨æ ¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">recorder=QLabel(widgetslist[<span class="number">1</span>])</span><br><span class="line">recorder.setText(<span class="string">&#x27;00:00:00.000&#x27;</span>)</span><br><span class="line">recorder.setFont(font)</span><br><span class="line">startStopButton=QPushButton(<span class="string">&#x27;å¼€å§‹&#x27;</span>,widgetslist[<span class="number">1</span>])</span><br><span class="line">recordButton=QPushButton(<span class="string">&#x27;è®°å½•&#x27;</span>,widgetslist[<span class="number">1</span>])</span><br><span class="line">recordButton.setDisabled(<span class="literal">True</span>)</span><br><span class="line">clearButton=QPushButton(<span class="string">&#x27;æ¸…é›¶&#x27;</span>,widgetslist[<span class="number">1</span>])</span><br><span class="line">clearButton.setDisabled(<span class="literal">True</span>)</span><br><span class="line">recordTable=QTableWidget(<span class="number">0</span>,<span class="number">3</span>,widgetslist[<span class="number">1</span>])</span><br><span class="line">recordTable.setHorizontalHeaderLabels([<span class="string">&#x27;åºæ¬¡&#x27;</span>,<span class="string">&#x27;é—´éš”&#x27;</span>,<span class="string">&#x27;æ€»è®¡&#x27;</span>])</span><br><span class="line">recordTable.verticalHeader().setVisible(<span class="literal">False</span>)</span><br><span class="line">recordTable.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)</span><br><span class="line">recordTable.setVerticalScrollBarPolicy(Qt.ScrollBarAlwaysOff)</span><br></pre></td></tr></table></figure>
<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">startTimeStamp=<span class="number">0</span></span><br><span class="line">lastEndStamp=<span class="number">0</span></span><br><span class="line">lastRecordStamp=<span class="number">0</span></span><br><span class="line">running=<span class="literal">False</span></span><br><span class="line">timeDelta=<span class="number">0</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>startTimeStamp</code>ï¼šè®¡æ—¶å¼€å§‹çš„æ—¶é—´æˆ³</li>
<li><code>lastEndStamp</code>ï¼šä¸Šæ¬¡æš‚åœæ—¶çš„æ—¶é—´æˆ³</li>
<li><code>lastRecordStamp</code>ï¼šä¸Šæ¬¡è®°å½•æ—¶çš„æ—¶é—´æˆ³ï¼Œç”¨äºè®¡ç®—è®°å½•é—´éš”</li>
<li><code>running</code>ï¼šæ˜¯å¦æ­£åœ¨è®¡æ—¶</li>
<li><code>timeDelta</code>ï¼šæš‚åœåï¼Œå°†äº§ç”Ÿæ—¶é—´å·®ï¼Œåœ¨è®¡ç®—å½“å‰æ—¶é—´æ˜¯è¦å‡å»è¿™ä¸ªæ—¶é—´å·®<h2 id="è·å–ä¸æ ¼å¼åŒ–æ—¶é—´æˆ³"><a href="#è·å–ä¸æ ¼å¼åŒ–æ—¶é—´æˆ³" class="headerlink" title="è·å–ä¸æ ¼å¼åŒ–æ—¶é—´æˆ³"></a>è·å–ä¸æ ¼å¼åŒ–æ—¶é—´æˆ³</h2></li>
</ul>
<p>å˜é‡å·²ç»é½å…¨ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è·å–å½“å‰çš„æ—¶é—´ã€‚è·å–æ—¶é—´å¯ä»¥ä½¿ç”¨ä¸‹é¢ç®€å•çš„å…¬å¼ï¼š</p>
<script type="math/tex; mode=display">
res=now-startTimeStamp-timeDelta</script><p>è¿™ä¸ªå…¬å¼è¦ä½¿ç”¨å¤šæ¬¡ï¼Œæ‰€ä»¥å°è£…æˆå‡½æ•°:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getTime</span>():</span><br><span class="line">    <span class="keyword">global</span> startTimeStamp,timeDelta</span><br><span class="line">    <span class="keyword">return</span> time.time()-startTimeStamp-timeDelta </span><br></pre></td></tr></table></figure>
<p>è·å–åˆ°æ—¶é—´ä¹‹åï¼Œå°†æ—¶é—´æˆ³ç›´æ¥å±•ç¤ºç»™ç”¨æˆ·è‚¯å®šä¸ç°å®ï¼Œå› æ­¤å°†å…¶è½¬æ¢æˆæ—¶é—´å­—ç¬¦ä¸²ã€‚åŒæ—¶ï¼Œè¦ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå–æ•´è¿˜æ˜¯ç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸‰ä½ã€‚ï¼ˆåç»­å€’è®¡æ—¶å’Œé—¹é’Ÿéƒ½ä¸å–åä¸‰ä½ã€‚ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">formatTime</span>(<span class="params">data,<span class="built_in">round</span>=<span class="literal">False</span></span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#123;:0&gt;2d&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(data//<span class="number">3600</span>))+<span class="string">&#x27;:&#x27;</span>+<span class="string">&#x27;&#123;:0&gt;2d&#125;&#x27;</span>.<span class="built_in">format</span>((<span class="built_in">int</span>(data)%<span class="number">3600</span>)//<span class="number">60</span>)+<span class="string">&#x27;:&#x27;</span>+<span class="string">&#x27;&#123;:0&gt;2d&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(data)%<span class="number">60</span>)+(<span class="string">&#x27;.&#x27;</span>+<span class="string">&#x27;&#123;:0&gt;3d&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>((data%<span class="number">1</span>)*<span class="number">1000</span>)) <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">round</span> <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="è®¡æ—¶æ§åˆ¶"><a href="#è®¡æ—¶æ§åˆ¶" class="headerlink" title="è®¡æ—¶æ§åˆ¶"></a>è®¡æ—¶æ§åˆ¶</h2><p>åˆšåˆšæˆ‘åˆ›å»ºäº†ä¸‰ä¸ªæŒ‰é’®ç»„ä»¶ï¼Œç°åœ¨åœ¨è¦å¯¹åº”åœ°å†™ç€ä¸‰ä¸ªæŒ‰é’®è¢«ç‚¹å‡»æ˜¯æ‰§è¡Œçš„å‡½æ•°ã€‚</p>
<h3 id="å¼€å§‹å’Œåœæ­¢"><a href="#å¼€å§‹å’Œåœæ­¢" class="headerlink" title="å¼€å§‹å’Œåœæ­¢"></a>å¼€å§‹å’Œåœæ­¢</h3><p>è¿™ä¸ªå‡½æ•°å¯ä»¥æ§åˆ¶<code>running</code>å˜é‡ï¼Œä»¥åŠåšå‡ºå¯¹åº”çš„æ“ä½œï¼š</p>
<ul>
<li>è®¾ç½®æŒ‰é’®ä½ç½®ï¼›</li>
<li>æ”¹å˜<code>timeDelta</code></li>
<li>è®¾ç½®æŒ‰é’®</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">startStop</span>():</span><br><span class="line">    <span class="keyword">global</span> running,startTimeStamp,lastEndStamp,timeDelta,lastRecordStamp</span><br><span class="line">    <span class="keyword">if</span> running:</span><br><span class="line">        lastEndStamp=time.time()</span><br><span class="line">        startStopButton.setText(<span class="string">&#x27;å¼€å§‹&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> startTimeStamp==<span class="number">0</span>:</span><br><span class="line">            startTimeStamp=lastEndStamp=time.time()</span><br><span class="line">        timeDelta+=time.time()-lastEndStamp</span><br><span class="line">        startStopButton.setText(<span class="string">&#x27;åœæ­¢&#x27;</span>)</span><br><span class="line">    recordButton.setDisabled(running)</span><br><span class="line">    running=<span class="keyword">not</span> running</span><br><span class="line">    clearButton.setDisabled(running)</span><br></pre></td></tr></table></figure>
<h3 id="è®°å½•"><a href="#è®°å½•" class="headerlink" title="è®°å½•"></a>è®°å½•</h3><p>è®°å½•æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶ï¼Œå°±åœ¨è¡¨æ ¼ä¸­æ’å…¥ä¸€è¡Œï¼Œç¬¬ä¸€åˆ—æ˜¯æ¬¡æ•°ï¼Œç¬¬äºŒåˆ—æ˜¯é—´éš”ï¼Œç¬¬ä¸‰åˆ—æ˜¯æ€»è®¡æ—¶é—´ã€‚æœ€åï¼Œè¿˜è¦è®¾ç½®è¿™æ¬¡è®°å½•çš„æ—¶é—´æˆ³ï¼Œä»¥è®¡ç®—è¿™ä¸€æ¬¡åˆ°ä¸‹ä¸€æ¬¡è®°å½•çš„æ—¶é—´é—´éš”ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">writeRecord</span>():</span><br><span class="line">    <span class="keyword">global</span> lastRecordStamp</span><br><span class="line">    recordTable.insertRow(<span class="number">0</span>)</span><br><span class="line">    recordTable.setItem(<span class="number">0</span>,<span class="number">0</span>,QTableWidgetItem(<span class="built_in">str</span>(recordTable.rowCount())))</span><br><span class="line">    <span class="keyword">if</span> recordTable.rowCount()&gt;<span class="number">1</span>:</span><br><span class="line">        recordTable.setItem(<span class="number">0</span>,<span class="number">1</span>,QTableWidgetItem(formatTime(getTime()-lastRecordStamp)))</span><br><span class="line">    recordTable.setItem(<span class="number">0</span>,<span class="number">2</span>,QTableWidgetItem(formatTime(getTime())))</span><br><span class="line">    lastRecordStamp=getTime()</span><br></pre></td></tr></table></figure>
<h3 id="æ¸…é™¤è®°å½•"><a href="#æ¸…é™¤è®°å½•" class="headerlink" title="æ¸…é™¤è®°å½•"></a>æ¸…é™¤è®°å½•</h3><p>æ¸…é™¤ï¼Œè¦æŠŠå„ç§å˜é‡éƒ½åˆå§‹åŒ–ï¼Œè®¾ç½®æ—¶é—´æ–‡æœ¬çš„æ–‡å­—ä¹Ÿä¸ºåˆå§‹çš„ã€‚å› ä¸ºè¡¨æ ¼æ§ä»¶æ²¡æœ‰æä¾›æ¸…ç©ºå‡½æ•°ï¼Œæ‰€ä»¥åªèƒ½é€è¡Œåˆ é™¤ç›´è‡³è¡¨æ ¼ä¸ºç©ºä¸ºæ­¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">clearRecord</span>():</span><br><span class="line">    <span class="keyword">global</span> startTimeStamp,lastEndStamp,timeDelta,recorder</span><br><span class="line">    startTimeStamp=lastEndStamp=timeDelta=<span class="number">0</span></span><br><span class="line">    recorder.setText(<span class="string">&#x27;00:00:00.000&#x27;</span>)</span><br><span class="line">    clearButton.setDisabled(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">while</span>(recordTable.rowCount()&gt;<span class="number">0</span>):</span><br><span class="line">        recordTable.removeRow(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="è¿æ¥æŒ‰é’®ä¸å‡½æ•°"><a href="#è¿æ¥æŒ‰é’®ä¸å‡½æ•°" class="headerlink" title="è¿æ¥æŒ‰é’®ä¸å‡½æ•°"></a>è¿æ¥æŒ‰é’®ä¸å‡½æ•°</h3><p>ä½¿ç”¨<code>æŒ‰é’®æ§ä»¶.clicked.connect(å‡½æ•°å)</code>å°±å¯ä»¥åœ¨æŒ‰é’®è¢«ç‚¹å‡»æ—¶è°ƒç”¨å‡½æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">startStopButton.clicked.connect(startStop)  </span><br><span class="line">recordButton.clicked.connect(writeRecord)     </span><br><span class="line">clearButton.clicked.connect(clearRecord)</span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ–°æ˜¾ç¤º-1"><a href="#æ›´æ–°æ˜¾ç¤º-1" class="headerlink" title="æ›´æ–°æ˜¾ç¤º"></a>æ›´æ–°æ˜¾ç¤º</h2><p>çª—å£çš„è‡ªé€‚åº”éœ€è¦ä¸€äº›è®¡ç®—ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># def update():</span></span><br><span class="line">    <span class="keyword">global</span> startTimeStamp,timeDelta</span><br><span class="line">    <span class="comment"># size1_1=widgetslist[0].size()</span></span><br><span class="line">    <span class="comment"># nowtime=time.strftime(&#x27;%H:%M:%S&#x27;)</span></span><br><span class="line">    <span class="comment"># labelTime.setText(nowtime)</span></span><br><span class="line">    <span class="comment"># labelTime.move(size1_1.width()/2-size2.width()/2,size1_1.height()/2-size2.height()/2)</span></span><br><span class="line">    </span><br><span class="line">    size1_2=widgetslist[<span class="number">1</span>].size()</span><br><span class="line">    size2=labelTime.size()</span><br><span class="line">    size3=recorder.size()</span><br><span class="line">    size4=startStopButton.size()</span><br><span class="line">    size5=recordButton.size()</span><br><span class="line">    size6=clearButton.size()</span><br><span class="line">    recorder.move(size1_2.width()/<span class="number">2</span>-size3.width()/<span class="number">2</span>,<span class="number">10</span>)</span><br><span class="line">    startStopButton.move(size1_2.width()/<span class="number">2</span>-size5.width()/<span class="number">2</span>-<span class="number">10</span>-size4.width(),size1_2.height()-<span class="number">10</span>-size4.height())</span><br><span class="line">    recordButton.move(size1_2.width()/<span class="number">2</span>-size5.width()/<span class="number">2</span>,size1_2.height()-<span class="number">10</span>-size5.height())</span><br><span class="line">    clearButton.move(size1_2.width()/<span class="number">2</span>+size5.width()/<span class="number">2</span>+<span class="number">10</span>,size1_2.height()-<span class="number">10</span>-size6.height())</span><br><span class="line">    recordTable.resize(size1_2.width()-<span class="number">200</span>,size1_2.height()-<span class="number">320</span>)</span><br><span class="line">    size7=recordTable.size()</span><br><span class="line">    recordTable.move(size1_2.width()/<span class="number">2</span>-size7.width()/<span class="number">2</span>,<span class="number">220</span>)</span><br><span class="line">    recordTable.setColumnWidth(<span class="number">0</span>,<span class="number">40</span>)</span><br><span class="line">    recordTable.setColumnWidth(<span class="number">1</span>,size7.width()/<span class="number">2</span>-<span class="number">20</span>)</span><br><span class="line">    recordTable.setColumnWidth(<span class="number">2</span>,size7.width()/<span class="number">2</span>-<span class="number">20</span>)</span><br><span class="line">    <span class="keyword">if</span> running:</span><br><span class="line">        stampDelta=getTime()</span><br><span class="line">        rec=formatTime(stampDelta)</span><br><span class="line">        recorder.setText(rec)</span><br></pre></td></tr></table></figure>
<h2 id="æ•ˆæœ-1"><a href="#æ•ˆæœ-1" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://s1.imagehub.cc/images/2024/12/08/d5680b89d31cdccd2edf6412960c29e6.png" alt="image"></p>
<h1 id="å€’è®¡æ—¶"><a href="#å€’è®¡æ—¶" class="headerlink" title="å€’è®¡æ—¶"></a>å€’è®¡æ—¶</h1><p>å€’è®¡æ—¶ä¸åƒæ­£å‘è®¡æ—¶é‚£ä¹ˆç®€å•ï¼Œéœ€è¦æ”¯æŒä¸€äº›å€’è®¡æ—¶åŒæ—¶è®¡æ—¶ã€‚è¿™å°±éœ€è¦å»ºç«‹ä¸€ä¸ªå€’è®¡æ—¶ç±»æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</p>
<h2 id="åˆ›å»ºç»„ä»¶-1"><a href="#åˆ›å»ºç»„ä»¶-1" class="headerlink" title="åˆ›å»ºç»„ä»¶"></a>åˆ›å»ºç»„ä»¶</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">newCountDown=QPushButton(<span class="string">&#x27;æ–°å»º&#x27;</span>,widgetslist[<span class="number">2</span>])</span><br><span class="line">deleteCountDown=QPushButton(<span class="string">&#x27;ç¼–è¾‘&#x27;</span>,widgetslist[<span class="number">2</span>])</span><br><span class="line">countDownScrollArea=QScrollArea(widgetslist[<span class="number">2</span>])</span><br><span class="line">countDownScrollArea.move(<span class="number">10</span>,<span class="number">30</span>)</span><br><span class="line">countDownScrollArea.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)</span><br><span class="line">countDownScrollAreaWidget=QWidget()</span><br><span class="line">countDownScrollArea.setWidget(countDownScrollAreaWidget)</span><br><span class="line">countDownList=[]</span><br></pre></td></tr></table></figure>
<p>è¿˜æ˜¯ä¸€äº›æŒ‰é’®ï¼Œä½†æ˜¯å¤šäº†ä¸€ä¸ªæ»šåŠ¨åŒºï¼Œè¿™æ ·å¯ä»¥æ»šåŠ¨æ˜¾ç¤ºå€’è®¡æ—¶æ§ä»¶ã€‚</p>
<h2 id="åˆ›å»ºå€’è®¡æ—¶ç±»"><a href="#åˆ›å»ºå€’è®¡æ—¶ç±»" class="headerlink" title="åˆ›å»ºå€’è®¡æ—¶ç±»"></a>åˆ›å»ºå€’è®¡æ—¶ç±»</h2><p>æˆ‘å°†åœ¨<code>QtWidgets.QGroupBox</code>çš„åŸºç¡€ä¸Šåˆ¶ä½œè¿™ä¸ªå€’è®¡æ—¶ç»„ä»¶ã€‚</p>
<h3 id="å®ä¾‹åŒ–"><a href="#å®ä¾‹åŒ–" class="headerlink" title="å®ä¾‹åŒ–"></a>å®ä¾‹åŒ–</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CountDown</span>(<span class="title class_ inherited__">QGroupBox</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,parent,timelength,title,music</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.timelength=timelength</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=title</span><br><span class="line">        <span class="variable language_">self</span>.music=music</span><br><span class="line">        <span class="variable language_">self</span>.restTime=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.startTimeStamp=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.lastEndStamp=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.timeDelta=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.running=<span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><p>å®ä¾‹åŒ–æ–¹æ³•å†…ä¸èƒ½ç©¿ä»¶ç»„ä»¶ï¼Œæ‰€ä»¥å•ç‹¬å»ºä¸€ä¸ªå¯åŠ¨å‡½æ•°ï¼Œåœ¨å¯¹è±¡å®ä¾‹åŒ–ä¹‹åä½¿ç”¨ã€‚<br>æŒ‰é’®ç»‘å®šçš„å‡½æ•°åç»­éƒ½ä¼šå®šä¹‰ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class CountDown(QGroupBox):</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">launch</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>,<span class="number">300</span>)</span><br><span class="line">        <span class="variable language_">self</span>.restTime=<span class="variable language_">self</span>.timelength</span><br><span class="line">        <span class="variable language_">self</span>.timelabel=QLabel(formatTime(<span class="variable language_">self</span>.restTime),<span class="variable language_">self</span>)</span><br><span class="line">        font=QFont(<span class="string">&#x27;Arian&#x27;</span>,<span class="number">40</span>,<span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.timelabel.setFont(font)</span><br><span class="line">        <span class="variable language_">self</span>.progressbar=QProgressBar(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.progressbar.setTextVisible(<span class="literal">False</span>)</span><br><span class="line">        <span class="variable language_">self</span>.progressbar.setRange(<span class="number">0</span>,<span class="number">10000</span>)</span><br><span class="line">        <span class="variable language_">self</span>.startStopButton=QPushButton(<span class="string">&#x27;å¼€å§‹&#x27;</span>,<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.startStopButton.clicked.connect(<span class="variable language_">self</span>.startStop)</span><br><span class="line">        <span class="variable language_">self</span>.clearButton=QPushButton(<span class="string">&#x27;è¿˜åŸ&#x27;</span>,<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.clearButton.clicked.connect(<span class="variable language_">self</span>.reset)</span><br><span class="line">        <span class="variable language_">self</span>.clearButton.setDisabled(<span class="literal">True</span>)</span><br><span class="line">        <span class="variable language_">self</span>.editButton=<span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.deleteButton=<span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.mode=<span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="å…¶ä»–å‡½æ•°"><a href="#å…¶ä»–å‡½æ•°" class="headerlink" title="å…¶ä»–å‡½æ•°"></a>å…¶ä»–å‡½æ•°</h3><p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>åˆ‡æ¢æ¨¡å¼ï¼ˆå¼€å§‹ä¸æ¸…é™¤/ç¼–è¾‘ä¸åˆ é™¤ï¼‰</li>
<li>å¼€å§‹åœæ­¢</li>
<li>æ›´æ–°æ˜¾ç¤º</li>
<li>æ¸…é™¤</li>
<li>ç¼–è¾‘</li>
<li>å€’è®¡æ—¶ç»“æŸä»»åŠ¡æ é€šçŸ¥</li>
<li>åˆ é™¤</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class CountDown(QGroupBox)</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">toggleMode</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.mode:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.hide()</span><br><span class="line">            <span class="variable language_">self</span>.clearButton.hide()</span><br><span class="line">            <span class="variable language_">self</span>.editButton=QPushButton(<span class="string">&#x27;ç¼–è¾‘&#x27;</span>,<span class="variable language_">self</span>)</span><br><span class="line">            <span class="variable language_">self</span>.editButton.clicked.connect(<span class="variable language_">self</span>.edit)</span><br><span class="line">            <span class="variable language_">self</span>.editButton.show()</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton=QPushButton(<span class="string">&#x27;åˆ é™¤&#x27;</span>,<span class="variable language_">self</span>)</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.clicked.connect(<span class="variable language_">self</span>.deleteSelf)</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.show()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.show()</span><br><span class="line">            <span class="variable language_">self</span>.clearButton.show()</span><br><span class="line">            <span class="variable language_">self</span>.editButton.hide()</span><br><span class="line">            <span class="variable language_">self</span>.editButton=<span class="literal">None</span></span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.hide()</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton=<span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.mode=<span class="keyword">not</span> <span class="variable language_">self</span>.mode</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">updating</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setTitle(<span class="variable language_">self</span>.titlestr)</span><br><span class="line">        selfsize=<span class="variable language_">self</span>.size()</span><br><span class="line">        buttonsize=<span class="variable language_">self</span>.startStopButton.size()</span><br><span class="line">        progressbarsize=<span class="variable language_">self</span>.progressbar.size()</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(<span class="variable language_">self</span>.timelength-<span class="built_in">max</span>(<span class="number">0</span>,time.time()-<span class="variable language_">self</span>.startTimeStamp-<span class="variable language_">self</span>.timeDelta))&lt;<span class="number">0.0005</span>:</span><br><span class="line">            <span class="variable language_">self</span>.showMessage()</span><br><span class="line">            <span class="variable language_">self</span>.startStop()</span><br><span class="line">            <span class="variable language_">self</span>.timelabel.setText(<span class="string">&#x27;00:00:00:000&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.restTime=<span class="built_in">max</span>(<span class="number">0</span>,<span class="variable language_">self</span>.timelength-<span class="built_in">max</span>(<span class="number">0</span>,time.time()-<span class="variable language_">self</span>.startTimeStamp-<span class="variable language_">self</span>.timeDelta))</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.running:</span><br><span class="line">            <span class="variable language_">self</span>.timelabel.setText(formatTime(<span class="variable language_">self</span>.restTime))</span><br><span class="line">            <span class="variable language_">self</span>.progressbar.setValue(<span class="variable language_">self</span>.restTime/<span class="variable language_">self</span>.timelength*<span class="number">10000</span>)</span><br><span class="line">            <span class="variable language_">self</span>.progressbar.update()</span><br><span class="line">        labelsize=<span class="variable language_">self</span>.timelabel.size()</span><br><span class="line">        <span class="variable language_">self</span>.timelabel.move(selfsize.width()/<span class="number">2</span>-labelsize.width()/<span class="number">2</span>,selfsize.height()/<span class="number">2</span>-labelsize.height()/<span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">self</span>.progressbar.resize(selfsize.width()-<span class="number">20</span>,<span class="number">20</span>)</span><br><span class="line">        <span class="variable language_">self</span>.progressbar.move(<span class="number">10</span>,selfsize.height()-<span class="number">10</span>-buttonsize.height()-<span class="number">10</span>-progressbarsize.height())</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.mode:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.move(selfsize.width()/<span class="number">2</span>-<span class="number">5</span>-buttonsize.width(),selfsize.height()-<span class="number">10</span>-buttonsize.height())</span><br><span class="line">            <span class="variable language_">self</span>.clearButton.move(selfsize.width()/<span class="number">2</span>+<span class="number">5</span>,selfsize.height()-<span class="number">10</span>-buttonsize.height())</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.editButton.move(selfsize.width()/<span class="number">2</span>-<span class="number">5</span>-buttonsize.width(),selfsize.height()-<span class="number">10</span>-buttonsize.height())</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.move(selfsize.width()/<span class="number">2</span>+<span class="number">5</span>,selfsize.height()-<span class="number">10</span>-buttonsize.height())</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">startStop</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.running:</span><br><span class="line">            <span class="variable language_">self</span>.lastEndStamp=time.time()</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.setText(<span class="string">&#x27;å¼€å§‹&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.startTimeStamp==<span class="number">0</span>:</span><br><span class="line">                <span class="variable language_">self</span>.startTimeStamp=<span class="variable language_">self</span>.lastEndStamp=time.time()</span><br><span class="line">            <span class="variable language_">self</span>.timeDelta+=time.time()-<span class="variable language_">self</span>.lastEndStamp</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.setText(<span class="string">&#x27;åœæ­¢&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.running=<span class="keyword">not</span> <span class="variable language_">self</span>.running</span><br><span class="line">        <span class="variable language_">self</span>.clearButton.setDisabled(<span class="variable language_">self</span>.running)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reset</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.startTimeStamp=<span class="variable language_">self</span>.lastEndStamp=<span class="variable language_">self</span>.timeDelta=<span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.timelabel.setText(formatTime(<span class="variable language_">self</span>.timelength))</span><br><span class="line">        <span class="variable language_">self</span>.clearButton.setDisabled(<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">edit</span>(<span class="params">self</span>):</span><br><span class="line">        editor=CountDownEdit(<span class="variable language_">self</span>.timelength,<span class="variable language_">self</span>.titlestr,<span class="variable language_">self</span>.music)</span><br><span class="line">        editor.editData()</span><br><span class="line">        <span class="variable language_">self</span>.timelength=editor.length</span><br><span class="line">        <span class="variable language_">self</span>.restTime=<span class="variable language_">self</span>.timelength</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=editor.titlestr</span><br><span class="line">        <span class="variable language_">self</span>.music=editor.music</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">showMessage</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.trayicon=QSystemTrayIcon()</span><br><span class="line">        <span class="variable language_">self</span>.trayicon.setIcon(icon)</span><br><span class="line">        <span class="variable language_">self</span>.trayicon.show()</span><br><span class="line">        <span class="variable language_">self</span>.trayicon.showMessage(<span class="string">&#x27;è®¡æ—¶å™¨åˆ°äº†&#x27;</span>,<span class="string">&#x27;å€’è®¡æ—¶&#x27;</span>+<span class="variable language_">self</span>.titlestr+<span class="string">&#x27;è®¡æ—¶å·²å®Œæˆã€‚&#x27;</span>,icon)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deleteSelf</span>(<span class="params">self</span>):</span><br><span class="line">        countDownList.remove(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.deleteLater()</span><br><span class="line">        <span class="keyword">del</span> <span class="variable language_">self</span></span><br></pre></td></tr></table></figure>
<h2 id="å€’è®¡æ—¶ç¼–è¾‘ç±»"><a href="#å€’è®¡æ—¶ç¼–è¾‘ç±»" class="headerlink" title="å€’è®¡æ—¶ç¼–è¾‘ç±»"></a>å€’è®¡æ—¶ç¼–è¾‘ç±»</h2><p>åˆšåˆšçš„<code>edit()</code>å‡½æ•°é‡Œï¼Œå°±æœ‰ä¸€ä¸ª<code>CountDownEdit</code>ã€‚å½“ç”¨æˆ·ç¼–è¾‘ä¸€ä¸ªå€’è®¡æ—¶æ—¶ï¼Œå°±è¦æ‰“å¼€ä¸€ä¸ªå€’è®¡æ—¶ç¼–è¾‘çª—å£ï¼Œå› æ­¤ï¼Œæˆ‘å•ç‹¬å†å»ºä¸€ä¸ªç±»ï¼Œæ‰“å¼€ä¸€ä¸ª<code>QtWidgets.QDialog</code>ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CountDownEdit</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,length,title,music</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.confirmed=<span class="literal">False</span></span><br><span class="line">        <span class="variable language_">self</span>.length=length</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=title</span><br><span class="line">        <span class="variable language_">self</span>.music=music</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">editData</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;å€’è®¡æ—¶ç¼–è¾‘&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.vlayout=QVBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout=QGridLayout()</span><br><span class="line">        <span class="variable language_">self</span>.hlayout=QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.setSpacing(<span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label1=QLabel(<span class="string">&#x27;æ—¶é•¿&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label2=QLabel(<span class="string">&#x27;æ ‡é¢˜&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label3=QLabel(<span class="string">&#x27;éŸ³ä¹&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1=QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.content1_1=QSpinBox()</span><br><span class="line">        <span class="variable language_">self</span>.content1_1.setMinimum(<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_1.setMaximum(<span class="number">99</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_1.setValue(<span class="variable language_">self</span>.length//<span class="number">3600</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_2=QLabel(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_3=QSpinBox()</span><br><span class="line">        <span class="variable language_">self</span>.content1_3.setMinimum(<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_3.setMaximum(<span class="number">59</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_3.setValue((<span class="variable language_">self</span>.length%<span class="number">3600</span>)//<span class="number">60</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_4=QLabel(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_5=QSpinBox()</span><br><span class="line">        <span class="variable language_">self</span>.content1_5.setMinimum(<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_5.setMaximum(<span class="number">59</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_5.setValue(<span class="variable language_">self</span>.length%<span class="number">60</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_1)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_2)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_3)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_4)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_5)</span><br><span class="line">        <span class="variable language_">self</span>.content2=QLineEdit()</span><br><span class="line">        <span class="variable language_">self</span>.content2.setText(<span class="variable language_">self</span>.titlestr)</span><br><span class="line">        <span class="variable language_">self</span>.content3=QComboBox()</span><br><span class="line">        <span class="variable language_">self</span>.content3.addItems(musicNameList)</span><br><span class="line">        <span class="variable language_">self</span>.content3.setCurrentIndex(<span class="variable language_">self</span>.music)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label1,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label2,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label3,<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addLayout(<span class="variable language_">self</span>.content1,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.content2,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.content3,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.confirm=QPushButton(<span class="string">&#x27;ç¡®å®š&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.cancel=QPushButton(<span class="string">&#x27;å–æ¶ˆ&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.confirm.clicked.connect(<span class="variable language_">self</span>.confirming)</span><br><span class="line">        <span class="variable language_">self</span>.cancel.clicked.connect(<span class="variable language_">self</span>.close)</span><br><span class="line">        <span class="variable language_">self</span>.hlayout.addWidget(<span class="variable language_">self</span>.confirm)</span><br><span class="line">        <span class="variable language_">self</span>.hlayout.addWidget(<span class="variable language_">self</span>.cancel)</span><br><span class="line">        <span class="variable language_">self</span>.vlayout.addLayout(<span class="variable language_">self</span>.gridlayout)</span><br><span class="line">        <span class="variable language_">self</span>.vlayout.addLayout(<span class="variable language_">self</span>.hlayout)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(<span class="variable language_">self</span>.vlayout)</span><br><span class="line">        <span class="variable language_">self</span>.show()</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">exec</span>()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">confirming</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.confirmed=<span class="literal">True</span></span><br><span class="line">        <span class="variable language_">self</span>.length=<span class="variable language_">self</span>.content1_1.value()*<span class="number">3600</span>+<span class="variable language_">self</span>.content1_3.value()*<span class="number">60</span>+<span class="variable language_">self</span>.content1_5.value()</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=<span class="variable language_">self</span>.content2.text()</span><br><span class="line">        <span class="variable language_">self</span>.music=<span class="variable language_">self</span>.content3.currentIndex()</span><br><span class="line">        <span class="variable language_">self</span>.close()</span><br></pre></td></tr></table></figure>
<h2 id="æŒ‰é’®ç»‘å®šå‡½æ•°"><a href="#æŒ‰é’®ç»‘å®šå‡½æ•°" class="headerlink" title="æŒ‰é’®ç»‘å®šå‡½æ•°"></a>æŒ‰é’®ç»‘å®šå‡½æ•°</h2><p>æ¥ç€ï¼Œç»™åˆšæ‰ä¸¤ä¸ªæŒ‰é’®åˆ›å»ºå¹¶ç»‘å®šå‡½æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">onNewCountDown</span>():</span><br><span class="line">    <span class="keyword">global</span> countDownList</span><br><span class="line">    countDownEdit=CountDownEdit(<span class="number">0</span>,<span class="string">&#x27;æœªå‘½å&#x27;</span>,<span class="number">0</span>)</span><br><span class="line">    countDownEdit.editData()</span><br><span class="line">    <span class="keyword">if</span> countDownEdit.confirmed:</span><br><span class="line">        countDown=CountDown(countDownScrollAreaWidget,countDownEdit.length,countDownEdit.titlestr,countDownEdit.music)</span><br><span class="line">        countDown.launch()</span><br><span class="line">        countDown.show()</span><br><span class="line">        countDownList.append(countDown)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">onDeleteCountDown</span>():</span><br><span class="line">    <span class="keyword">global</span> countDownList</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> countDownList:</span><br><span class="line">        i.toggleMode()</span><br><span class="line">newCountDown.clicked.connect(onNewCountDown)</span><br><span class="line">deleteCountDown.clicked.connect(onDeleteCountDown)</span><br></pre></td></tr></table></figure>
<h2 id="æ›´æ–°æ˜¾ç¤º-2"><a href="#æ›´æ–°æ˜¾ç¤º-2" class="headerlink" title="æ›´æ–°æ˜¾ç¤º"></a>æ›´æ–°æ˜¾ç¤º</h2><p>æ²¡é”™ï¼Œåˆè¦æ›´æ–°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># def update():</span></span><br><span class="line">	size1_3=widgetslist[<span class="number">2</span>].size()</span><br><span class="line">    size8=newCountDown.size()</span><br><span class="line">    size9=deleteCountDown.size()</span><br><span class="line">    newCountDown.move(size1_3.width()/<span class="number">2</span>-<span class="number">5</span>-size8.width(),size1_3.height()-<span class="number">10</span>-size8.height())</span><br><span class="line">    deleteCountDown.move(size1_3.width()/<span class="number">2</span>+<span class="number">5</span>,size1_3.height()-<span class="number">10</span>-size9.height())</span><br><span class="line">    countDownScrollArea.resize(size1_3.width()-<span class="number">20</span>,size1_3.height()-<span class="number">50</span>-size8.height())</span><br><span class="line">    size10=countDownScrollArea.size()</span><br><span class="line">    size11=QSize(<span class="number">400</span>,<span class="number">300</span>)</span><br><span class="line">    numPerRow=(size10.width()-size11.width())//(size11.width()+<span class="number">10</span>)+<span class="number">1</span></span><br><span class="line">    widthPerRow=numPerRow*size11.width()+(numPerRow-<span class="number">1</span>)*<span class="number">10</span></span><br><span class="line">    countDownScrollAreaWidget.resize(size10.width(),<span class="number">10</span>+((<span class="built_in">len</span>(countDownList))//numPerRow+<span class="number">1</span>)*(<span class="number">10</span>+size11.height()))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(countDownList)):</span><br><span class="line">        countDownList[i].move(size10.width()/<span class="number">2</span>-widthPerRow/<span class="number">2</span>+(i%numPerRow)*(<span class="number">10</span>+size11.width()),<span class="number">10</span>+(i//numPerRow)*(<span class="number">10</span>+size11.height()))</span><br><span class="line">        countDownList[i].updating()</span><br></pre></td></tr></table></figure>
<h2 id="æ–‡ä»¶è¯»å†™"><a href="#æ–‡ä»¶è¯»å†™" class="headerlink" title="æ–‡ä»¶è¯»å†™"></a>æ–‡ä»¶è¯»å†™</h2><p>è¿™ä¸ªæ—¶é’Ÿåº”ç”¨è¿˜æ˜¯æ”¯æŒä¿å­˜å’Œè¯»å–è®¡æ—¶å™¨çš„ã€‚å®ç°å°±æ˜¯æ–‡ä»¶è¯»å†™ã€‚</p>
<h3 id="è¯»å…¥"><a href="#è¯»å…¥" class="headerlink" title="è¯»å…¥"></a>è¯»å…¥</h3><p>è¿™ä¸ªæ˜¯ç¨‹åºæ¯æ¬¡æ‰“å¼€å°±æ‰§è¡Œçš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># deleteCountDown.clicked.connect(onDeleteCountDown)</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;../data/countdown.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> f.readlines():</span><br><span class="line">        timelength,title,music=i.split(<span class="string">&#x27;:/:&#x27;</span>)</span><br><span class="line">        countDown=CountDown(countDownScrollAreaWidget,<span class="built_in">int</span>(timelength),title,<span class="built_in">int</span>(music))</span><br><span class="line">        countDown.launch()</span><br><span class="line">        countDown.show()</span><br><span class="line">        countDownList.append(countDown)</span><br><span class="line"></span><br><span class="line"><span class="comment"># def update():</span></span><br></pre></td></tr></table></figure>
<h3 id="ä¿å­˜"><a href="#ä¿å­˜" class="headerlink" title="ä¿å­˜"></a>ä¿å­˜</h3><p>è¿™ä¸ªå°±æ˜¯ç¨‹åºæ¯æ¬¡å…³é—­æ‰§è¡Œçš„ã€‚<br>è®©æˆ‘ä»¬å›åˆ°ç¨‹åºä¸€å¼€å§‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Window(QWidget):</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">closeEvent</span>(<span class="params">self,event</span>):</span><br><span class="line">        <span class="keyword">global</span> countDownList,alarmList</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;../data/countdown.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> countDownList:</span><br><span class="line">                f.write(<span class="built_in">str</span>(i.timelength)+<span class="string">&#x27;:/:&#x27;</span>+i.titlestr+<span class="string">&#x27;:/:&#x27;</span>+<span class="built_in">str</span>(i.music)+<span class="string">&#x27;\n&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="æ•ˆæœ-2"><a href="#æ•ˆæœ-2" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://s1.imagehub.cc/images/2024/12/08/62420788b13c81e6b3003003d2816649.png" alt="image"></p>
<h1 id="é—¹é’Ÿ"><a href="#é—¹é’Ÿ" class="headerlink" title="é—¹é’Ÿ"></a>é—¹é’Ÿ</h1><p>é—¹é’Ÿçš„ç¨‹åºï¼Œå°±æ˜¯æŠŠå€’è®¡æ—¶å¤åˆ¶äº†ä¸€éæ”¹çš„ï¼Œæ‰€ä»¥ç›´æ¥ç»™ä¸ªä»£ç </p>
<h2 id="ä¸»è¦ä»£ç "><a href="#ä¸»è¦ä»£ç " class="headerlink" title="ä¸»è¦ä»£ç "></a>ä¸»è¦ä»£ç </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">newAlarm=QPushButton(<span class="string">&#x27;æ–°å»º&#x27;</span>,widgetslist[<span class="number">3</span>])</span><br><span class="line">deleteAlarm=QPushButton(<span class="string">&#x27;ç¼–è¾‘&#x27;</span>,widgetslist[<span class="number">3</span>])</span><br><span class="line">alarmScrollArea=QScrollArea(widgetslist[<span class="number">3</span>])</span><br><span class="line">alarmScrollArea.move(<span class="number">10</span>,<span class="number">30</span>)</span><br><span class="line">alarmScrollArea.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)</span><br><span class="line">alarmScrollAreaWidget=QWidget()</span><br><span class="line">alarmScrollArea.setWidget(alarmScrollAreaWidget)</span><br><span class="line">alarmList=[]</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Alarm</span>(<span class="title class_ inherited__">QGroupBox</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,parent,timelength,title,music,repeat,description,running</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(parent)</span><br><span class="line">        <span class="variable language_">self</span>.timelength=timelength</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=title</span><br><span class="line">        <span class="variable language_">self</span>.music=music</span><br><span class="line">        <span class="variable language_">self</span>.running=running</span><br><span class="line">        <span class="variable language_">self</span>.repeat=repeat</span><br><span class="line">        <span class="variable language_">self</span>.description=description</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">launch</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.resize(<span class="number">400</span>,<span class="number">300</span>)</span><br><span class="line">        <span class="variable language_">self</span>.restTime=<span class="variable language_">self</span>.timelength</span><br><span class="line">        <span class="variable language_">self</span>.timelabel=QLabel(formatTime(<span class="variable language_">self</span>.restTime,<span class="built_in">round</span>=<span class="literal">True</span>),<span class="variable language_">self</span>)</span><br><span class="line">        font=QFont(<span class="string">&#x27;Arian&#x27;</span>,<span class="number">40</span>,<span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.timelabel.setFont(font)</span><br><span class="line">        <span class="variable language_">self</span>.descriptionLabel=QLabel(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.descriptionLabel.setWordWrap(<span class="literal">True</span>)</span><br><span class="line">        <span class="variable language_">self</span>.descriptionLabel.setAlignment(Qt.AlignmentFlag.AlignTop|Qt.AlignmentFlag.AlignLeft)</span><br><span class="line">        <span class="variable language_">self</span>.repetitionLabel=QLabel(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.startStopButton=QPushButton(<span class="string">&#x27;å…³é—­&#x27;</span> <span class="keyword">if</span> <span class="variable language_">self</span>.running <span class="keyword">else</span> <span class="string">&#x27;å¼€å¯&#x27;</span>,<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.startStopButton.clicked.connect(<span class="variable language_">self</span>.startStop)</span><br><span class="line">        <span class="variable language_">self</span>.editButton=<span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.deleteButton=<span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.mode=<span class="literal">True</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">toggleMode</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.mode:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.hide()</span><br><span class="line">            <span class="variable language_">self</span>.editButton=QPushButton(<span class="string">&#x27;ç¼–è¾‘&#x27;</span>,<span class="variable language_">self</span>)</span><br><span class="line">            <span class="variable language_">self</span>.editButton.clicked.connect(<span class="variable language_">self</span>.edit)</span><br><span class="line">            <span class="variable language_">self</span>.editButton.show()</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton=QPushButton(<span class="string">&#x27;åˆ é™¤&#x27;</span>,<span class="variable language_">self</span>)</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.clicked.connect(<span class="variable language_">self</span>.deleteSelf)</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.show()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.show()</span><br><span class="line">            <span class="variable language_">self</span>.editButton.hide()</span><br><span class="line">            <span class="variable language_">self</span>.editButton=<span class="literal">None</span></span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.hide()</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton=<span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.mode=<span class="keyword">not</span> <span class="variable language_">self</span>.mode</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">updating</span>(<span class="params">self</span>):</span><br><span class="line">        hours,minutes,seconds=<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,time.strftime(<span class="string">&#x27;%H %M %S&#x27;</span>).split()))</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">abs</span>(<span class="variable language_">self</span>.timelength-(hours*<span class="number">3600</span>+minutes*<span class="number">60</span>+seconds))&lt;<span class="number">0.0005</span> <span class="keyword">and</span> <span class="variable language_">self</span>.running:</span><br><span class="line">            <span class="variable language_">self</span>.showMessage()</span><br><span class="line">            <span class="variable language_">self</span>.startStop()</span><br><span class="line">        <span class="variable language_">self</span>.setTitle(<span class="variable language_">self</span>.titlestr)</span><br><span class="line">        selfsize=<span class="variable language_">self</span>.size()</span><br><span class="line">        buttonsize=<span class="variable language_">self</span>.startStopButton.size()</span><br><span class="line">        <span class="variable language_">self</span>.timelabel.setText(formatTime(<span class="variable language_">self</span>.timelength,<span class="built_in">round</span>=<span class="literal">True</span>))</span><br><span class="line">        labelsize=<span class="variable language_">self</span>.timelabel.size()</span><br><span class="line">        <span class="variable language_">self</span>.timelabel.move(selfsize.width()/<span class="number">2</span>-labelsize.width()/<span class="number">2</span>,<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.descriptionLabel.setText(<span class="variable language_">self</span>.description)</span><br><span class="line">        <span class="variable language_">self</span>.descriptionLabel.setFixedSize(selfsize.width()-<span class="number">10</span>,<span class="number">200</span>)</span><br><span class="line">        labelsize=<span class="variable language_">self</span>.descriptionLabel.size()</span><br><span class="line">        <span class="variable language_">self</span>.descriptionLabel.move(selfsize.width()/<span class="number">2</span>-labelsize.width()/<span class="number">2</span>,<span class="number">150</span>)</span><br><span class="line">        text=[<span class="string">&#x27;æ˜ŸæœŸä¸€&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸäºŒ&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸä¸‰&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸå››&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸäº”&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸå…­&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸæ—¥&#x27;</span>]</span><br><span class="line">        list1=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">7</span>):</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.repeat[i]:</span><br><span class="line">                list1.append(text[i])</span><br><span class="line">        <span class="variable language_">self</span>.repetitionLabel.setText(<span class="string">&#x27;ï¼Œ&#x27;</span>.join(list1))</span><br><span class="line">        <span class="variable language_">self</span>.repetitionLabel.setFixedSize(selfsize.width()-<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">        labelsize=<span class="variable language_">self</span>.repetitionLabel.size()</span><br><span class="line">        <span class="variable language_">self</span>.repetitionLabel.move(selfsize.width()/<span class="number">2</span>-labelsize.width()/<span class="number">2</span>,<span class="number">100</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.mode:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.move(selfsize.width()/<span class="number">2</span>-buttonsize.width()/<span class="number">2</span>,selfsize.height()-<span class="number">10</span>-buttonsize.height())</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.editButton.move(selfsize.width()/<span class="number">2</span>-<span class="number">5</span>-buttonsize.width(),selfsize.height()-<span class="number">10</span>-buttonsize.height())</span><br><span class="line">            <span class="variable language_">self</span>.deleteButton.move(selfsize.width()/<span class="number">2</span>+<span class="number">5</span>,selfsize.height()-<span class="number">10</span>-buttonsize.height())</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">startStop</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.running:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.setText(<span class="string">&#x27;å¼€å¯&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.startStopButton.setText(<span class="string">&#x27;å…³é—­&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.running=<span class="keyword">not</span> <span class="variable language_">self</span>.running</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">edit</span>(<span class="params">self</span>):</span><br><span class="line">        editor=AlarmEdit(<span class="variable language_">self</span>.timelength,<span class="variable language_">self</span>.titlestr,<span class="variable language_">self</span>.music,<span class="variable language_">self</span>.repeat,<span class="variable language_">self</span>.description,<span class="variable language_">self</span>.running)</span><br><span class="line">        editor.editData()</span><br><span class="line">        <span class="variable language_">self</span>.timelength=editor.length</span><br><span class="line">        <span class="variable language_">self</span>.restTime=<span class="variable language_">self</span>.timelength</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=editor.titlestr</span><br><span class="line">        <span class="variable language_">self</span>.music=editor.music</span><br><span class="line">        <span class="variable language_">self</span>.repeat=editor.repeat</span><br><span class="line">        <span class="variable language_">self</span>.description=editor.description</span><br><span class="line">        <span class="variable language_">self</span>.running=editor.running</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">showMessage</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.trayicon=QSystemTrayIcon()</span><br><span class="line">        <span class="variable language_">self</span>.trayicon.setIcon(icon)</span><br><span class="line">        <span class="variable language_">self</span>.trayicon.show()</span><br><span class="line">        <span class="variable language_">self</span>.trayicon.showMessage(<span class="string">&#x27;é—¹é’Ÿ&#x27;</span>+formatTime(<span class="variable language_">self</span>.timelength,<span class="built_in">round</span>=<span class="literal">True</span>),<span class="variable language_">self</span>.description,icon)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">deleteSelf</span>(<span class="params">self</span>):</span><br><span class="line">        alarmList.remove(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.deleteLater()</span><br><span class="line">        <span class="keyword">del</span> <span class="variable language_">self</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AlarmEdit</span>(<span class="title class_ inherited__">QDialog</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,length,title,music,repeat,description,running</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="variable language_">self</span>.confirmed=<span class="literal">False</span></span><br><span class="line">        <span class="variable language_">self</span>.length=length</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=title</span><br><span class="line">        <span class="variable language_">self</span>.music=music</span><br><span class="line">        <span class="variable language_">self</span>.repeat=repeat</span><br><span class="line">        <span class="variable language_">self</span>.description=description</span><br><span class="line">        <span class="variable language_">self</span>.running=running</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">editData</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">&#x27;é—¹é’Ÿç¼–è¾‘&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.vlayout=QVBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout=QGridLayout()</span><br><span class="line">        <span class="variable language_">self</span>.hlayout=QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.setSpacing(<span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label1=QLabel(<span class="string">&#x27;æ—¶é—´&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label2=QLabel(<span class="string">&#x27;æ ‡é¢˜&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label3=QLabel(<span class="string">&#x27;éŸ³ä¹&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label4=QLabel(<span class="string">&#x27;æè¿°&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.label5=QLabel(<span class="string">&#x27;é‡å¤&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1=QHBoxLayout()</span><br><span class="line">        <span class="variable language_">self</span>.content1_1=QSpinBox()</span><br><span class="line">        <span class="variable language_">self</span>.content1_1.setMinimum(<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_1.setMaximum(<span class="number">23</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_1.setValue(<span class="variable language_">self</span>.length//<span class="number">3600</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_2=QLabel(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_3=QSpinBox()</span><br><span class="line">        <span class="variable language_">self</span>.content1_3.setMinimum(<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_3.setMaximum(<span class="number">59</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_3.setValue((<span class="variable language_">self</span>.length%<span class="number">3600</span>)//<span class="number">60</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_4=QLabel(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_5=QSpinBox()</span><br><span class="line">        <span class="variable language_">self</span>.content1_5.setMinimum(<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_5.setMaximum(<span class="number">59</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1_5.setValue(<span class="variable language_">self</span>.length%<span class="number">60</span>)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_1)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_2)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_3)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_4)</span><br><span class="line">        <span class="variable language_">self</span>.content1.addWidget(<span class="variable language_">self</span>.content1_5)</span><br><span class="line">        <span class="variable language_">self</span>.content2=QLineEdit()</span><br><span class="line">        <span class="variable language_">self</span>.content2.setText(<span class="variable language_">self</span>.titlestr)</span><br><span class="line">        <span class="variable language_">self</span>.content3=QComboBox()</span><br><span class="line">        <span class="variable language_">self</span>.content3.addItems(musicNameList)</span><br><span class="line">        <span class="variable language_">self</span>.content3.setCurrentIndex(<span class="variable language_">self</span>.music)</span><br><span class="line">        <span class="variable language_">self</span>.content4=QLineEdit()</span><br><span class="line">        <span class="variable language_">self</span>.content4.setText(<span class="variable language_">self</span>.description)</span><br><span class="line">        <span class="variable language_">self</span>.content5=QVBoxLayout()</span><br><span class="line">        text=[<span class="string">&#x27;æ˜ŸæœŸä¸€&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸäºŒ&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸä¸‰&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸå››&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸäº”&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸå…­&#x27;</span>,<span class="string">&#x27;æ˜ŸæœŸæ—¥&#x27;</span>]</span><br><span class="line">        <span class="variable language_">self</span>.content5s=[QCheckBox(text=i) <span class="keyword">for</span> i <span class="keyword">in</span> text]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable language_">self</span>.content5s:</span><br><span class="line">            <span class="variable language_">self</span>.content5.addWidget(i)</span><br><span class="line">            p=<span class="variable language_">self</span>.content5s.index(i)</span><br><span class="line">            i.setChecked(<span class="variable language_">self</span>.repeat[p])</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label1,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label2,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label3,<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label4,<span class="number">3</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.label5,<span class="number">4</span>,<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addLayout(<span class="variable language_">self</span>.content1,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.content2,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.content3,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addWidget(<span class="variable language_">self</span>.content4,<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.gridlayout.addLayout(<span class="variable language_">self</span>.content5,<span class="number">4</span>,<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.confirm=QPushButton(<span class="string">&#x27;ç¡®å®š&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.cancel=QPushButton(<span class="string">&#x27;å–æ¶ˆ&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.confirm.clicked.connect(<span class="variable language_">self</span>.confirming)</span><br><span class="line">        <span class="variable language_">self</span>.cancel.clicked.connect(<span class="variable language_">self</span>.close)</span><br><span class="line">        <span class="variable language_">self</span>.hlayout.addWidget(<span class="variable language_">self</span>.confirm)</span><br><span class="line">        <span class="variable language_">self</span>.hlayout.addWidget(<span class="variable language_">self</span>.cancel)</span><br><span class="line">        <span class="variable language_">self</span>.vlayout.addLayout(<span class="variable language_">self</span>.gridlayout)</span><br><span class="line">        <span class="variable language_">self</span>.vlayout.addLayout(<span class="variable language_">self</span>.hlayout)</span><br><span class="line">        <span class="variable language_">self</span>.setLayout(<span class="variable language_">self</span>.vlayout)</span><br><span class="line">        <span class="variable language_">self</span>.show()</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">exec</span>()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setRepeat</span>(<span class="params">self,p</span>):</span><br><span class="line">        <span class="variable language_">self</span>.repeat[p]=<span class="keyword">not</span> <span class="variable language_">self</span>.repeat[p]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">confirming</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.confirmed=<span class="literal">True</span></span><br><span class="line">        <span class="variable language_">self</span>.length=<span class="variable language_">self</span>.content1_1.value()*<span class="number">3600</span>+<span class="variable language_">self</span>.content1_3.value()*<span class="number">60</span>+<span class="variable language_">self</span>.content1_5.value()</span><br><span class="line">        <span class="variable language_">self</span>.titlestr=<span class="variable language_">self</span>.content2.text()</span><br><span class="line">        <span class="variable language_">self</span>.music=<span class="variable language_">self</span>.content3.currentIndex()</span><br><span class="line">        <span class="variable language_">self</span>.description=<span class="variable language_">self</span>.content4.text()</span><br><span class="line">        <span class="variable language_">self</span>.repeat=[i.isChecked() <span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable language_">self</span>.content5s]</span><br><span class="line">        <span class="variable language_">self</span>.close()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">onNewAlarm</span>():</span><br><span class="line">    <span class="keyword">global</span> alarmList</span><br><span class="line">    alarmEdit=AlarmEdit(<span class="number">0</span>,<span class="string">&#x27;æœªå‘½å&#x27;</span>,<span class="number">0</span>,[<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">False</span>],<span class="string">&#x27;&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">    alarmEdit.editData()</span><br><span class="line">    <span class="keyword">if</span> alarmEdit.confirmed:</span><br><span class="line">        alarm=Alarm(alarmScrollAreaWidget,alarmEdit.length,alarmEdit.titlestr,alarmEdit.music,alarmEdit.repeat,alarmEdit.description,alarmEdit.running)</span><br><span class="line">        alarm.launch()</span><br><span class="line">        alarm.show()</span><br><span class="line">        alarmList.append(alarm)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">onDeleteAlarm</span>():</span><br><span class="line">    <span class="keyword">global</span> alarmList</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> alarmList:</span><br><span class="line">        i.toggleMode()</span><br><span class="line">newAlarm.clicked.connect(onNewAlarm)</span><br><span class="line">deleteAlarm.clicked.connect(onDeleteAlarm)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;../data/alarm.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> f.readlines():</span><br><span class="line">        timelength,title,music,repeat1,repeat2,repeat3,repeat4,repeat5,repeat6,repeat7,description,running1=i.split(<span class="string">&#x27;:/:&#x27;</span>)</span><br><span class="line">        alarm=Alarm(alarmScrollAreaWidget,<span class="built_in">int</span>(timelength),title,<span class="built_in">int</span>(music),<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">bool</span>,<span class="built_in">map</span>(<span class="built_in">int</span>,[repeat1,repeat2,repeat3,repeat4,repeat5,repeat6,repeat7]))),description,<span class="built_in">bool</span>(<span class="built_in">int</span>(running1)))</span><br><span class="line">        alarm.launch()</span><br><span class="line">        alarm.show()</span><br><span class="line">        alarmList.append(alarm)</span><br></pre></td></tr></table></figure>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>åˆ«å¿˜äº†è¿˜éœ€è¦æ›´æ–°æ˜¾ç¤ºï¼Œå…³é—­æ—¶çš„æ–‡ä»¶å†™å…¥</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># update():</span></span><br><span class="line">    size8=newAlarm.size()</span><br><span class="line">    size9=deleteAlarm.size()</span><br><span class="line">    newAlarm.move(size1_3.width()/<span class="number">2</span>-<span class="number">5</span>-size8.width(),size1_3.height()-<span class="number">10</span>-size8.height())</span><br><span class="line">    deleteAlarm.move(size1_3.width()/<span class="number">2</span>+<span class="number">5</span>,size1_3.height()-<span class="number">10</span>-size9.height())</span><br><span class="line">    alarmScrollArea.resize(size1_3.width()-<span class="number">20</span>,size1_3.height()-<span class="number">50</span>-size8.height())</span><br><span class="line">    size10=alarmScrollArea.size()</span><br><span class="line">    size11=QSize(<span class="number">400</span>,<span class="number">300</span>)</span><br><span class="line">    numPerRow=(size10.width()-size11.width())//(size11.width()+<span class="number">10</span>)+<span class="number">1</span></span><br><span class="line">    widthPerRow=numPerRow*size11.width()+(numPerRow-<span class="number">1</span>)*<span class="number">10</span></span><br><span class="line">    alarmScrollAreaWidget.resize(size10.width(),<span class="number">10</span>+((<span class="built_in">len</span>(alarmList))//numPerRow+<span class="number">1</span>)*(<span class="number">10</span>+size11.height()))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(alarmList)):</span><br><span class="line">        alarmList[i].move(size10.width()/<span class="number">2</span>-widthPerRow/<span class="number">2</span>+(i%numPerRow)*(<span class="number">10</span>+size11.width()),<span class="number">10</span>+(i//numPerRow)*(<span class="number">10</span>+size11.height()))</span><br><span class="line">        alarmList[i].updating()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># class Window(QWidget):</span></span><br><span class="line">	<span class="comment"># def closeEvent(self,event):</span></span><br><span class="line">		<span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;../data/alarm.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> alarmList:</span><br><span class="line">                f.write(<span class="built_in">str</span>(i.timelength)+<span class="string">&#x27;:/:&#x27;</span>+i.titlestr+<span class="string">&#x27;:/:&#x27;</span>+<span class="built_in">str</span>(i.music)+<span class="string">&#x27;:/:&#x27;</span>+<span class="string">&#x27;:/:&#x27;</span>.join(<span class="built_in">map</span>(<span class="built_in">str</span>,<span class="built_in">map</span>(<span class="built_in">int</span>,i.repeat)))+<span class="string">&#x27;:/:&#x27;</span>+i.description+<span class="string">&#x27;:/:&#x27;</span>+<span class="built_in">str</span>(<span class="built_in">int</span>(i.running))+<span class="string">&#x27;\n&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="æ•ˆæœ-3"><a href="#æ•ˆæœ-3" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://s1.imagehub.cc/images/2024/12/08/8d9a81c4e9e72270e372cba66f1ba9ba.png" alt="image"></p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>è¿™ä¸ªé¡¹ç›®ï¼Œè™½ç„¶ç®€å•ï¼Œä½†æ˜¯ä»£ç æœ‰äº¿ç‚¹ç‚¹å¤šã€‚æ‰€ä»¥å†™è¿™ç¯‡æ–‡ç« ä¹Ÿå†™äº†å¾ˆå¤šã€‚å¸Œæœ›è¿™ä¸ªé¡¹ç›®å¯ä»¥å¯¹å­¦ä¹ Qtçš„å°ä¼™ä¼´èµ·åˆ°ä¸€äº›å¼•å¯¼æ€§ä½œç”¨ã€‚<br>å…¶å®ï¼Œå†™è¿™ä¹ˆé•¿çœŸçš„å¾ˆä¸å®¹æ˜“ã€‚<br>æ‹œæ‹œï¼See you next time!</p>
]]></content>
      <categories>
        <category>åº”ç”¨ç¨‹åº</category>
        <category>Qt</category>
      </categories>
      <tags>
        <tag>åº”ç”¨ç¨‹åº</tag>
        <tag>ç®€æ˜“</tag>
      </tags>
  </entry>
</search>
